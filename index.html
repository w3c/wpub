<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
	<head>
		<meta charset="utf-8" />
		<title>Web Publications</title>
		<script src="https://www.w3.org/Tools/respec/respec-w3c-common" class="remove" defer="defer"></script>
		<script src="common/js/biblio.js" class="remove"></script>
		<link href="common/css/common.css" rel="stylesheet" type="text/css" />
		<script class="remove">
		  // <![CDATA[
          var respecConfig = {
              wg: "Publishing Working Group",
              specStatus: "ED",
              shortName: "wpub",
              previousPublishDate: "2018-01-04",
  			  previousMaturity: "WD",
            //   edDraftURI: "https://w3c.github.io/wpub/",
              editors: [
                  {
      			      "name": "Matt Garrish",
                      "company": "DAISY Consortium",
                      "companyURL": "http://www.daisy.org",
                      "w3cid": 51655
                  },
                  {
                    "name": "Ivan Herman",
                    "url": "https://www.w3.org/People/Ivan/",
                    "company": "W3C",
					"w3cid": 7382,
                    "extras": [
                    {
                      "name": "<img src='https://orcid.org/sites/default/files/images/orcid_16x16.gif' alt='orcid logo'/>",
                      "href": "http://orcid.org/0000-0003-0782-2704",
                      "class": "orcid"
                    }],
                    "companyURL": "https://www.w3.org",
                  }
              ],
			  authors: [
			      {
                    "name": "Baldur Bjarnason",
                    "company": "The Rebus Foundation",
                    "companyURL": "https://reb.us/",
					"w3cid": 92101
                  },
			  	  {
                    "name": "Timothy W. Cole",
                    "url": "https://www.library.illinois.edu/people/bios/t-cole3/",
                    "company": "University of Illinois at Urbana-Champaign",
                    "companyURL": "https://illinois.edu",
					"w3cid": 53965,
                    "extras": [
                      {
                        "name": "<img src='https://orcid.org/sites/default/files/images/orcid_16x16.gif' alt='orcid logo'/>",
                        "href": "https://orcid.org/0000-0002-5906-4581",
                        "class": "orcid"
                      }]
                  },
			      {
                    "name": "Dave Cramer",
                    "company": "Hachette Livre",
                    "companyURL": "https://hachette.com/",
                    "w3cid": 65283
                  },
			      {
                    "name": "Hadrien Gardeur",
                    "company": "Feedbooks",
                    "companyURL": "http://www.feedbooks.com/",
                    "w3cid": 97094
                  },
			      {
                    "name": "Florian Rivoal",
                    "company": "Vivliostyle Inc.",
                    "companyURL": "http://vivliostyle.com/",
                    "w3cid": 43241
                  }
			  ],
              processVersion: 2018,
              includePermalinks: false,
              permalinkEdge:     true,
              permalinkHide:     false,
              diffTool:          "http://www.aptest.com/standards/htmldiff/htmldiff.pl",
              wgURI:             "https://www.w3.org/publishing/groups/publ-wg/",
              wgPublicList:      "public-publ-wg",
              wgPatentURI:       "https://www.w3.org/2004/01/pp-impl/100074/status",
			  github:			 {
				  repoURL: "https://github.com/w3c/wpub",
				  branch: "master"

			  },
            //   otherLinks: [
            //       {
            //         key: "Repository",
            //         data: [{
            //             value: "Github Repository",
            //             href: "https://github.com/w3c/wpub"
            //         }]
            //       },
            //       {
            //         key: "Changes",
            //         data: [
            //         // {
            //         //   value: "Diff to previous version",
            //         //   href: "diff.html"
            //         // },
            //         {
            //           value: "Commit history",
            //           href: "https://github.com/w3c/wpub/commits/master"
            //         }]
            //       }
            //   ],
              localBiblio: biblio
          };
          // ]]>
      </script>
	</head>
	<body>
		<section id="abstract">
			<p>This specification defines a collection of information that describes the structure
				of Web Publications so that user agents can provide user experiences well-suited to
				reading publications, such as sequential navigation and offline reading. This
				information includes the default reading order, a list of resources, and
				publication-wide metadata.</p>
		</section>
		<section id="sotd">
			<p>This first public working draft provides a preliminary outline of a Web Publication.
				Many details are under active consideration within the Publishing Working Group and
				are subject to change. The most prominent known issues have been identified in this
				document and links provided to comment on them.</p>

			<p>In particular, the Working Group seeks feedback on the following issues:</p>
			<ul>
				<li><a href="#rel-wam">Integration with Web App Manifest.</a></li>
				<li><a href="#wp-lifecycle">Supporting Web Publications in browsers.</a></li>
				<li><a href="#wp-address">The nature of the Web Publication address.</a></li>
			</ul>
		</section>
		<section id="intro">
			<h2>Introduction</h2>

			<section id="why-wp" class="informative">
				<h3>Why Web Publications</h3>

				<p>The Web is a lonely place. It is unbounded: resources live out their lives on
					remote servers scattered across the globe, only reachable by addresses sometimes
					known to only a few people. But life on the Web is not all doom and gloom.
					Through the power of Web pages, these resources can be brought together to
					create amazing experiences.</p>

				<p>Web sites add another layer of relationship—this time between pages—but the
					relationship is a tenuous one that typically depends on hyperlinks to add
					cohesion. Without a user that understands how to follow the connections, a Web
					site is still no more than a loose coupling of information.</p>

				<p>The preceding is not a critique of the Web, but meant to highlight that the
					modern Web is very much an active, event-driven experience. Users follow the
					necessary paths to obtain the information they need.</p>

				<p>The traditional publishing model, sometimes called the print model, differs from
					the Web model in that the publisher packages all the information together and
					thereby establishes the common pathway through it. The user can passively follow
					the content page-by-page, or actively find other pathways via a table of
					contents or index. It is a model that has worked to bind information in a
					cohesive way for millennia, and continues to be an important model alongside the
					Web. The publication as a bounded edition, made public, is used to carry
					intellectual and artistic works of innumerable form: novels, plays, poetry,
					journals, magazines, newspapers, articles, laws, treatises, pamphlets, atlases,
					comics, manga, notebooks, memos, manuals, and albums of all sorts.</p>

				<p>Attempts to reproduce this model on the Web, however, have had to work around its
					loose coupling of information: sometimes publications are compressed into a
					single page; sometimes they are broken across multiple pages and hyperlinked
					together. These models both have flaws, however: single-page publications are
					often so large they render slowly, especially on low-power devices; multi-page
					publications cannot be easily taken offline because their common thread cannot
					be established.</p>

				<p>As a result, users have had trouble accessing, compiling and downloading Web
					content for curation and personal use. That, in turn, has fed the continuing
					development of non-Web digital formats to redress these problems, and made it
					necessary to create both Web-ready content and alternative renditions for
					offline use.</p>

				<p>This specification aims to reduce these barriers and reinvigorate publishing by
					combining the best aspects of both models — the persistent availability and
					portability of bounded publications with the pervasive accessibility,
					addressability, and interconnectedness of the Open Web Platform. To do so, it
					adds an unobtrusive definition of interrelation to the Web model: the <a>Web
						Publication</a>.</p>
			</section>

			<section id="what-is-wp" class="informative">
				<h3>What is a Web Publication</h3>

				<p>A <a>Web Publication</a> is a discoverable and identifiable collection of
					resources. Information about the Web Publication is expressed in a
					machine-readable document called a <a>manifest</a>, which is what enables user
					agents to understand the bounds of the Web Publication and the connection
					between its resources.</p>

				<p>The manifest includes metadata that describe the Web Publication, as a
					publication has an identity and nature beyond its constituent resources. The
					manifest also provides a list of all the resources that belong to the Web
					Publication and a default reading order, which is how it connects resources into
					a single contiguous work.</p>

				<p>A Web Publication is discoverable in one of two ways: resources either include a
					link to the manifest (via an HTTP Link header or an [[!html]] <code>link</code>
					element), or the manifest can be loaded directly by a compatible user agent.</p>

				<p>With the establishment of Web Publications, user agents can build new experiences
					tailored specifically for their unique reading needs.</p>

				<figure id="WP-diagram">
					<img src="images/WP-diagram.svg"
						alt="Flowchart depicts the resources of a Web Publication, their attachment to a manifest, and its relationship to the infoset." />
					<figcaption>Simplified Diagram of the Structure of Web Publications. <br />A <a
							href="#WP-diagram-descr">description of the structure diagram</a> is
						available in the Appendix. Image available in <a
							href="images/WP-diagram.svg"
							title="SVG image of the structure of Web Publications">SVG</a> and <a
							title="PNG image of the structure of Web Publications"
							href="images/WP-diagram.png">PNG</a> formats.</figcaption>
				</figure>
			</section>

			<section id="scope" class="informative">
				<h3>Scope</h3>

				<p>This specification only defines requirements for the production and rendering of
					valid <a>Web Publications</a>. As much as possible, it leverages existing Open
					Web Platform technologies to achieve its goal—that being to allow for a measure
					of boundedness on the Web without changing the way that the Web itself
					operates.</p>

				<p>Moreover, the specification is designed to adapt automatically to updates to Open
					Web Platform technologies in order to ensure that Web Publications continue to
					interoperate seamlessly as the Web evolves (e.g., by referencing the latest
					published versions instead of specific dated versions).</p>

				<p>Further, this specification does not attempt to constrain the nature of a Web
					Publication: any type of work that can be represented on the Web constitutes a
					potential Web Publication.</p>

				<p>The specification is also intended to facilitate different user agent
					architectures for the consumption of Web Publications. While a primary goal is
					that traditional Web user agents (browsers) will be able to consume Web
					Publications, this should not limit the capabilities of any other possible type
					of user agent (e.g., applications, whether standalone or running within a user
					agent, or even Web Publications that include their own user interface). As a
					result, the specification does not attempt to architect required solutions for
					situations whose expected outcome will vary depending on the nature of the user
					agent and the expectations of the user (e.g., how to prompt to initiate a Web
					Publication, or at what point or how much of a Web Publication to cache for
					offline use).</p>
			</section>

			<section id="relationships">
				<h3>Relationship to Other Specifications</h3>

				<section id="rel-wam">
					<h4>Web App Manifest</h4>

					<div class="ednote">
						<p>The working group is investigating integration with the work done on
							[[appmanifest]] to avoid duplication of concerns both in the expression
							and serialization of a <a>manifest</a> and in the processing and
							compilation of the <abbr title="information set"><a>infoset</a></abbr>.
							It is expected, however, that there will be differences in the
							processing models of each (e.g., the initiation of the reading
							experience for <a>Web Publications</a> versus installation for
							applications).</p>

						<p>The working assumption is that both applications and publications can use
							the same manifest and serialization to express the information necessary
							to initiate themselves.</p>

						<p>The initial stage of evaluating this assumption involves:</p>

						<ul>
							<li>the continuing analysis of necessary metadata and publication
								structure requirements;</li>
							<li>the comparison and harmonization of web publication requirements
								with those already defined in [[appmanifest]].</li>
						</ul>

						<p>The next stage will involve the serialization of the <abbr
								title="information set">infoset</abbr> in <abbr
								title="JavaScript Object Notation">JSON</abbr> to see how this
							expression of the manifest can be aligned with the expression of the
							[[appmanifest]]. Wherever semantically possible, the terms used and
							defined for [[appmanifest]] will be reused, and, conversely, some of the
							members defined for Web Publications may be generally useful for
							applications and may be added to the [[appmanifest]] as a common pool of
							information. To avoid possible future conflicts, care will be taken to
							use a naming scheme that clearly separates terms to be used for Web
							Publications only.</p>

						<p>This specification consequently should be read and understood in this
							context of an ongoing investigation, and that significant changes may
							occur in the future.</p>

						<p>This section will be updated with each release to reflect the current
							status of this work, and describe the evolving relationship.</p>

						<p>See also <a href="https://github.com/w3c/wpub/issues/32">issue #32 in the
								GitHub tracker</a> for more discussion about integration.</p>
					</div>
				</section>
			</section>

			<section id="terminology">
				<h3>Terminology</h3>

				<p>Wherever appropriate, this document relies on terminology defined by the W3C Note
					"Publishing and Linking on the Web" [[!publishing-linking]], including, in
					particular, <a class="externalDFN"
						href="https://www.w3.org/TR/publishing-linking/#dfn-user">user</a>, <a
						class="externalDFN"
						href="https://www.w3.org/TR/publishing-linking/#dfn-user-agent">user
						agent</a>, <a class="externalDFN"
						href="https://www.w3.org/TR/publishing-linking/#dfn-browser">browser</a>,
					and <a class="externalDFN"
						href="https://www.w3.org/TR/publishing-linking/#dfn-address"
					>address</a>.</p>

				<dl>
					<dt><dfn data-lt="identifiers">Identifier</dfn></dt>
					<dd>
						<p>An identifier is metadata that can be used to refer to <a
								class="externalDFN"
								href="https://www.w3.org/TR/publishing-linking/#dfn-web-content">Web
								Content</a> in a persistent and unambiguous manner. <abbr
								title="Uniform Resource Locators">URLs</abbr>, <abbr
								title="Uniform Resource Names">URNs</abbr>, <abbr
								title="Digital Object Identifiers">DOIs</abbr>, <abbr
								title="International Standard Book Numbers">ISBNs</abbr>, and <abbr
								title="Persistent Uniform Resource Locators">PURLs</abbr> are all
							examples of persistent identifiers frequently used in publishing.</p>
					</dd>

					<dt><dfn data-lt="Manifests">Manifest</dfn></dt>
					<dd>
						<p>A manifest represents structured information about a <a>Web
								Publication</a>, such as informative metadata, a <a
								href="#wp-resource-list">list of all resources</a>, and a <a>default
								reading order</a>.</p>
					</dd>

					<dt><dfn>Non-empty</dfn></dt>
					<dd>
						<p>For the purposes of this specification, non-empty is used to refer to an
							element, attribute or property whose text content or value consists of
							one or more characters after whitespace normalization, where whitespace
							normalization rules are defined per the host format.</p>
					</dd>

					<dt><dfn data-lt="URLs">URL</dfn></dt>
					<dd>
						<p>The general term <abbr title="Uniform Resource Locator">URL</abbr> is
							defined by the URL Standard&#160;[[!URL]]. It is used as in other <abbr
								title="World Wide Web Consortium">W3C</abbr> specifications, like
								<abbr title="Hypertext Markup Language">HTML</abbr>&#160;[[!html]].
							In particular, a <abbr title="Uniform Resource Locator">URL</abbr>
							allows for the usage of characters from Unicode
							following&#160;[[!rfc3987]]. See <a
								href="https://www.w3.org/TR/html/references.html#biblio-url">the
								note in the HTML5 specification</a> for further details.</p>
					</dd>

					<dt><dfn data-lt="Web Publications|Web Publication's">Web Publication</dfn></dt>
					<dd>
						<p>A Web Publication is a collection of one or more resources, organized
							together through a <a>manifest</a> into a single logical work with a
								<a>default reading order</a>. The Web Publication is uniquely
							identifiable and presentable using Open Web Platform technologies.</p>
					</dd>
				</dl>
			</section>
		</section>
		<section id="conformance">
			<section>
				<h2>Conformance Classes</h2>

				<p>This specification defines two conformance classes: one for <a>Web
						Publications</a> and one for user agents that process them.</p>

				<p id="wp-conformance">A Web Publication conforms to this specification if it meets
					the following criteria:</p>

				<ul>
					<li>it has a <a>manifest</a> that conforms to <a href="#manifest-req"></a>;</li>
					<li>it adheres to the construction requirements defined in <a
							href="#wp-construction"></a>.</li>
				</ul>

				<p id="ua-conformance">A user agent conforms to this specification if it meets the
					following criteria:</p>

				<ul>
					<li>it is capable of generating a conforming <a href="#infoset"><abbr
								title="information set">infoset</abbr></a> for a Web
						Publication.</li>
				</ul>
			</section>
		</section>
		<section id="infoset">
			<h2>Information Set</h2>

			<p class="ednote">As the serialization of the manifest remains an open issue, specifics
				about how properties are compiled into the <abbr title="information set"
					>infoset</abbr> remain unspecified. This includes, but is not limited to, what
				specific names the properties will have in the <abbr title="information set"
					>infoset</abbr>, whether the names in the <a>manifest</a> will be the same as
				those in the <abbr title="information set">infoset</abbr> and/or whether mappings to
				properties from known vocabularies will be used.</p>

			<p class="issue" data-number="63">The name "<abbr title="information set"
				>infoset</abbr>" might change depending on feedback. Although this term has a
				different meaning for individuals familiar with <abbr
					title="Extensible Markup Language">XML</abbr>, alternatives such as "properties"
				and "metadata" do not fully capture the nature or purpose of the collected
				information.</p>

			<section id="infoset-expl" class="informative">
				<h3>Explanation</h3>

				<p>A <a>Web Publication</a> is defined by a set of properties known as its <dfn
						data-lt="infoset">information set</dfn> (<abbr title="information set"
						>infoset</abbr>). The <abbr title="information set">infoset</abbr> is
					logically divided into two sets of properties: those that describe the
					publication and those that express key structures. These classifications only
					exist for the purposes of understanding the function of the properties,
					however.</p>

				<p>The <abbr title="information set">infoset</abbr> is both abstract and concrete.
					It is abstract in the sense that it represents a set of information that a user
					agent has to compile about the Web Publication, but it also becomes concrete
					when the user agent creates an internal representation of that information.</p>

				<p>The <abbr title="information set">infoset</abbr> is primarily compiled from a Web
					Publication's <a>manifest</a>, whose serialization requirements are defined in
						<a href="#manifest-serialization"></a>. Some information can be obtained
					outside the manifest, however. For example, fallback rules for properties
					defined in the following subsections allow a user agent to compile information
					that the author has not provided in the manifest, whether as an intentional
					optimization or by accidental omission.</p>
			</section>

			<section id="infoset-req">
				<h3>Requirements</h3>

				<p>The requirements for the expression of <abbr title="information set"
							><a>infoset</a></abbr> properties are as follows:</p>

				<dl>
					<dt>Descriptive Properties</dt>
					<dd>
						<p>REQUIRED: <a href="#wp-address">address</a></p>
						<div>
							<span>RECOMMENDED:</span>
							<ul class="flat">
								<li><a href="#wp-a11y">accessibility</a></li>
								<li><a href="#wp-language-and-dir">base direction</a></li>
								<li><a href="#wp-canonical-identifier">canonical identifier</a></li>
								<li><a href="#wp-creators">creator</a></li>
								<li><a href="#wp-language-and-dir">language</a></li>
								<li><a href="#wp-mod-date">modification date</a></li>
								<li><a href="#wp-privacy">privacy policy</a></li>
								<li><a href="#wp-pub-date">publication date</a></li>
								<li><a href="#wp-title">title</a></li>
							</ul>
						</div>
					</dd>
					<dt>Structural Properties</dt>
					<dd>
						<p>REQUIRED: <a href="#wp-default-reading-order">default reading order</a>
							and <a href="#wp-resource-list">resource list</a></p>
						<p>RECOMMENDED: <a href="#wp-table-of-contents">table of contents</a></p>
					</dd>
				</dl>

				<p class="ednote">These requirements reflect the current minimum consensus, though a
					number of issues remain open that could change whether an item is required or
					recommended. Refer to the property descriptions for more information.</p>

				<p class="issue" data-number="21">Whether the <abbr title="information set"
							><a>infoset</a></abbr> must allow any additional metadata, or define a
					specific mechanism to handle the inclusion of such.</p>
			</section>

			<section id="infoset-meta">
				<h3>Descriptive Properties</h3>

				<section id="wp-a11y">
					<h4>Accessibility</h4>

					<p>Accessibility metadata allows the discovery of features and affordances of
						the <a>Web Publication</a> that enable its use by users with different
						reading requirements and needs.</p>

					<p class="ednote">How to express accessibility metadata remains to be
						determined. This could be a grouping of <a
							href="https://www.w3.org/wiki/WebSchemas/Accessibility">properties from
							schema.org</a>, for example, or could be split out into a list of
						individual properties.</p>
				</section>

				<section id="wp-address">
					<h4>Address</h4>

					<p>A <a>Web Publication's</a>
						<dfn>address</dfn> is a <abbr title="Uniform Resource Locator">URL</abbr>
						that represents the primary entry point for the Web Publication. This URL
						MUST resolve to an [[!html]] document.</p>

					<p>The referenced document SHOULD be a resource of the Web Publication. It can
						be any resource, including one that is not listed in the <a>default reading
							order</a>. The document MUST <a href="#wp-linking">link to the
							manifest</a> to ensure that user agents can locate that document.</p>

					<p>If the document is not a Web Publication resource, user agents SHOULD load
						the first document in the <a>default reading order</a> when initiating the
						Web Publication.</p>

					<p class="note">Providing access on the referenced document to navigation aids
						that facilitate consumption of the content improves the usability of the Web
						Publication, particularly in user agents that do not support Web
						Publications (e.g., include a table of contents on the page, or provide a
						link to one).</p>

					<p>The availability of this address does not preclude the creation and use of
						other identifiers and/or addresses to retrieve a representation of a <a>Web
							Publication</a>, whether in whole or in part.</p>

					<div class="note">The Web Publication's address can also be used as value for an
						identifier link relation [[link-relation]].</div>

					<div class="issue" data-number="103">
						<p>This issue raises a number of questions:</p>
						<ul>
							<li>whether the entry page must be a web publication resource</li>
							<li>what specific purpose it serves</li>
							<li>whether any information the page contains can be trusted for the
								infoset if it is not part of the publication</li>
						</ul>
						<p>There is not yet consensus in the group on these issues, or on the name
							"entry page".</p>
					</div>
				</section>

				<section id="wp-dir">
					<h4>Base Direction</h4>

					<p>The <dfn>base direction</dfn> identifies the display direction for <abbr title="information set"
								><a>infoset</a></abbr> properties.</p>

					<p>The value of this property MUST be one of:</p>

					<dl>
						<dt><code>ltr</code></dt>
						<dd>left-to-right</dd>
						<dt><code>rtl</code></dt>
						<dd>right-to-left</dd>
						<dt><code>auto</code></dt>
						<dd>direction is determined from the value of the property</dd>
					</dl>

					<p>If not specified, user agents SHOULD assume the value <code>ltr</code>.</p>

					<p>If property values are harvested from another resource, such as the <a>table of contents</a>, user
						agents SHOULD give precedence to the base direction specified in the resource, when provided.</p>
				</section>

				<section id="wp-canonical-identifier">
					<h4>Canonical Identifier</h4>

					<p>A <a>Web Publication's</a>
						<dfn>canonical identifier</dfn> is a unique identifier that resolves to the
						preferred version of the Web Publication. The canonical identifier SHOULD be
						an <a>address</a>, but, if not, it MUST be possible for a user agent to make a one-to-one
						mapping to an address (e.g., a <abbr title="Digital Object Identifier"
							>DOI</abbr> can be resolved to a <abbr title="Uniform Resource Locator"
							>URL</abbr> via a <abbr title="Digital Object Identifier">DOI</abbr>
						resolver).</p>

					<p>If a Web Publication is hosted at more than one address, this identifier
						allows a user agent to identify the shared relationship between the versions
						and to determine which of the available addresses is primary.</p>

					<p>The canonical identifier is also intended to provide a measure of permanence
						above and beyond the Web Publication's <a>address</a>. Even if a Web
						Publication is permanently relocated to a new address, for example, the
						canonical identifier will provide a way of locating the new location (e.g.,
						a <abbr title="Digital Object Identifier">DOI</abbr> registry could be
						updated with the new <abbr title="Uniform Resource Locator">URL</abbr>, or a
						redirect could be added to the <abbr title="Uniform Resource Locator"
							>URL</abbr> of the canonical identifier).</p>

					<p>When assigned, the canonical identifier needs to be unique to one and only
						one Web Publication, independent of its address(es). Ensuring uniqueness is
						outside the scope of this specification, however. The actual uniqueness
						achievable depends on such factors as the conventions of the identifier
						scheme used and the degree of control over assignment of identifiers.</p>

					<p class="note">If the canonical identifier is a <abbr
							title="Uniform Resource Locator">URL</abbr>, it can be used as the
						target of a "canonical" link&#160;[[rfc6596]] (e.g., an [[html]]
							<code>link</code> element whose <code>rel</code> attribute has the value
							<code>canonical</code> or a Link <abbr
							title="Hypertext Transfer Protocol">HTTP</abbr> header field [[rfc5988]]
						similarly identified).</p>

					<p class="issue" data-number="58">The question is whether a canonical identifier
						is necessary to call out explicitly in the <abbr title="information set"
							>infoset</abbr>, or whether it is/can be handled by other metadata.</p>
				</section>

				<section id="wp-creators">
					<h4>Creators</h4>

					<p>Creators are the individuals or entities responsible for the creation of the
							<a>Web Publication</a>.</p>

					<p>Authors should specify the role the creator played in the creation of the Web Publication (e.g.,
						'author', 'illustrator', 'translator').</p>
				</section>

				<section id="wp-language-and-dir">
					<h4>Language and Base Direction</h4>

					<p> Each textual property in the <a>Web Publication's</a>
						<abbr title="information set"><a>infoset</a></abbr> (e.g., title, creators)
						MUST be <a href="https://w3c.github.io/string-meta/#dom-localizable"
							>Localizable</a> [[string-meta]]. This means it MUST be possible to
						assign: </p>

					<ul>
						<li>The natural <dfn>language</dfn>. When specified, the language MUST be a
							tag that conforms to [[!bcp47]].</li>
						<li>The <dfn>base direction</dfn>, that identifies the display direction for
							the property. It is specified by a tag with the possible values of: <ul>
								<li><code>ltr</code>: left-to-right;</li>
								<li><code>rtl</code>: right-to-left;</li>
								<li><code>auto</code>: direction is determined from the value of the
									property;</li>
							</ul>
						</li>
					</ul>

					<p> Furthermore, the <a>Web Publication's</a>
						<abbr title="information set"><a>infoset</a></abbr> MAY contain global
						values for the language and the base direction using a [[!bcp47]] tag, and
						the values of <code>ltr</code>/<code>rtl</code>/<code>auto</code> as above,
						respectively. These are used as defaults for textual properties in the <abbr
							title="information set"><a>infoset</a></abbr>, unless overwritten by the
						property itself. </p>

					<p class="note"> These features make it possible to add the title of a
						publication in different languages, or repeat the creators’ name using
						different scripts. </p>

					<p class="note"> This default language/direction pair is not used in the
						processing or rendering of the Web Publication, and is <strong>not</strong>
						a replacement for identifying the language of each resource as defined by
						its format. These information items have an effect on the metadata expressed
						in the <a>Web Publication's</a>
						<abbr title="information set"><a>infoset</a></abbr> only. </p>

					<p>If a user agent requires the language and one is not available in the <abbr title="information set"
							>infoset</abbr>, or the value is invalid, it MAY attempt to determine the language. This
						specification does not mandate how such a language tag is created. The user agent might:</p>

					<ul>
						<li>use the <a>non-empty</a> language declaration of the manifest;</li>
						<li>use the first non-empty language declaration found in a resource in the
								<a>default reading order</a>;</li>
						<li>calculate the language using its own algorithm.</li>
					</ul>

					<p>If a language tag cannot be determined, user agents MUST use the value "<code>und</code>"
						(undetermined). If the base direction cannot be determined, user agents MUST assume the
						value <code>auto</code>.</p>

					<div class="issue" data-number="53">
						<p>Is the language declared for the <a>manifest</a> content the same as the
							language of the publication? If it is, how to deal with multilingual
							publications?</p>
					</div>
				</section>

				<section id="wp-mod-date">
					<h4>Last Modification Date</h4>

					<p>The <dfn>last modification date</dfn> is the date when the <a>Web
							Publication</a> was last updated.</p>

					<p>Authors SHOULD update the last modification date whenever changes are made to the resources of
						the Web Publication, including the <a>manifest</a>. This date does not necessarily reflect all
						changes to the Web Publication, however, as, for example, it might not reflect changes to third-party
						content.</p>
				</section>

				<section id="wp-pub-date">
					<h4>Publication Date</h4>

					<p>The <dfn>publication date</dfn> is the date on which the <a>Web
							Publication</a> was originally published. It represents a static event
						in the lifecycle of a Web Publication and allows subsequent revisions to be
						identified and compared.</p>

					<p>The exact moment of publication is intentionally left open to interpretation:
						it could be when the Web Publication is first made available online or could
						be a point in time before publication when the Web Publication is considered
						final.</p>
				</section>

				<section id="wp-privacy">
					<h4>Privacy Policy</h4>

					<p>Users often have the legal right to know and control what information is collected about them, how
						such information is stored and for how long, whether it is personally identifiable, and how it can be
						expunged. Including a statement that addresses all such privacy concerns is consequently an important
						part of publishing <a>Web Publications</a>. Even if no information is collected, such a declaration
						increases the trust users have in the content.</p>

					<p>To address this concern, Authors can include a link to a privacy policy in the <abbr
							title="information set">infoset</abbr>. The privacy policy does not have to be a resource of the
						Web Publication, although including it as a resource is RECOMMENDED.</p>

					<p>Refer to <a href="#privacy"></a> for more information about privacy considerations in Web
						Publications.</p>
				</section>

				<section id="wp-title">
					<h4>Title</h4>

					<p>The title provides the human-readable name of the <a>Web Publication</a>.</p>

					<p>When specified in the <abbr title="information set"><a>infoset</a></abbr>, the title MUST be
							<a>non-empty</a>.</p>

					<p>If a user agent requires a title and one is not available in the <abbr title="information set"
							>infoset</abbr>, the user agent MAY create one. This specification does not mandate how such a title is
						created. The user agent might:</p>

					<ul>
						<li>use the first <a>non-empty</a>
							<code>title</code> element found in a resource in the <a>default reading
								order</a>;</li>
						<li>provide a language-specific placeholder title (e.g., 'Untitled
							Publication');</li>
						<li>use the <abbr title="Uniform Resource Locator">URL</abbr> of the
							manifest;</li>
						<li>calculate a title using its own algorithm.</li>
					</ul>

					<div class="note">
						<p>A user agent is not expected to produce a <a
								href="https://www.w3.org/TR/WCAG20/#navigation-mechanisms-title"
								>meaningful title</a> [[wcag20]] for a Web Publication when one is
							not specified.</p>
					</div>
				</section>
			</section>

			<section id="infoset-structure">
				<h3>Structural Properties</h3>

				<section id="wp-default-reading-order">
					<h4>Default Reading Order</h4>

					<p>The <dfn>default reading order</dfn> is a specific progression through a set
						of <a>Web Publication</a> resources.</p>

					<p>A user might follow alternative pathways through the content, but in the
						absence of such interaction the default reading order defines the expected
						progression from one resource to the next.</p>

					<p>Authors MUST include at least one resource in the default reading order.</p>

					<p>The default reading order is either specified directly in the manifest or in
						an [[!html]] <code>nav</code> element. In the latter case, the manifest MUST
						provide a link to the Web Publication resource that contains the
							<code>nav</code> element, with a fragment identifier that specifically
						identifies it.</p>

					<p>The process for extracting a default reading order from a <code>nav</code>
						element are as follows:</p>

					<ol>
						<li>extract a list of resource paths referenced from the <code>href</code>
							attribute of all <code>a</code> elements;</li>
						<li>strip any fragment identifiers from the references;</li>
						<li>resolve all relative paths to full <abbr
								title="Uniform Resource Locators">URLs</abbr>;</li>
						<li>remove all consecutive references to the same resource, leaving only the
							first.</li>
					</ol>

					<p>If a user agent requires a default reading order and one is not provided in
						the <abbr title="information set"><a>infoset</a></abbr>, it MAY attempt to
						construct one. This specification does not mandate how such a default
						reading order is created. The user agent might:</p>

					<ul>
						<li>use only the resource the user accessed to reach the manifest;</li>
						<li>search the <a>resource list</a> for a <code>nav</code> element to
							use;</li>
						<li>calculate the default reading order using its own algorithm.</li>
					</ul>

					<p class="issue" data-number="35">Define the default reading order of a <a>Web
							Publication</a> to be the files referenced in the table of contents.</p>
					<p class="issue" data-number="39">There is consensus that a <a>Web
							Publication</a> must have a reading order and must/should have a
							<a>table of contents</a> (the main navigation entry point).</p>
				</section>

				<section id="wp-resource-list">
					<h4>Resource List</h4>

					<p>The <dfn>resource list</dfn> enumerates all <a href="#wp-resources">resources</a> that are used in the
						processing and rendering of a <a>Web Publication</a> (i.e., that are within its bounds). This list is
						the definitive source that user agents have in determining which referenced resources belong to the
						Web Publication and which are external to it.</p>

					<p>The completeness of the resource list will affect the usability of the Web Publication in certain
						reading scenarios (e.g., the ability to read the Web Publication offline). For this reason, authors
						are strongly RECOMMENDED to always provide a comprehensive list of all of the Web Publication's
						constituent resources. At a minimum, the resource list MUST include a list of all resources in the
							<a>default reading order</a>.</p>

					<p>In some cases, a comprehensive list of these resources might not be easily achieved (e.g., third-party
						scripts that reference resources from deep within their source), but a Web Publication SHOULD remain
						consumable even if some of these resources are not identified as belonging to the Web Publication
						(e.g., when it is taken offline without them).</p>

					<p>If a user agent encounters a resource that it cannot locate in the resource list, it MUST treat the
						resource as external to the Web Publication (e.g., it might alert the user before loading, open the
						resource in a new window, or unload the current Web Publication and resume normal Web browsing).</p>

					<p class="issue" data-number="22">The discussion led to the question whether the <a>manifest</a>/<abbr
							title="information set">infoset</abbr> "must" list all resources or not. In this sense, this
						became a duplicate of <a href="https://github.com/w3c/wpub/issues/23">issue #23</a> ended up at the
						same question.</p>

					<p class="issue" data-number="23">Must the <a>manifest</a>/<abbr title="information set"
							><a>infoset</a></abbr> list all resources or not?</p>

					<p class="issue" data-number="59">Must the <a>manifest</a> list resources in the default reading order or
						can these can be inferred?</p>
				</section>

				<section id="wp-table-of-contents">
					<h4>Table of Contents</h4>

					<p>The <dfn>table of contents</dfn> is a hierarchical list of links that reflects the structural outline
						of the major sections of the Web Publication. There are no requirements on the completeness of the
						table of contents, except that, when specified, authors MUST link to at least one <a
							href="#wp-resources">resource</a>.</p>

					<p>The table of contents is either specified directly in the manifest or in an
						[[!html]] <code>nav</code> element. In the latter case, the manifest MUST
						provide a link to the Web Publication resource that contains the
							<code>nav</code> element, with a fragment identifier that specifically
						identifies it.</p>

					<p>If a user agent requires a table of contents and one is not specified, it MAY
						construct one. This specification does not mandate how such a table of
						contents is created. The user agent might: </p>

					<ol>
						<li>attempt to locate a table of contents in the <a>default reading
								order</a> (e.g., an <abbr title="Hypertext Markup Language"
								>HTML</abbr> document with a <code>nav</code> element that has the
								<code>role</code> attribute value <code>doc-toc</code>);</li>
						<li>use the titles of the resources in the default reading order;</li>
						<li>calculate a table of contents using its own algorithms.</li>
					</ol>

					<p class="issue" data-number="9">Does the <a>manifest</a>/<abbr
							title="information set">infoset</abbr> need to provide navigation, or do
						such mechanisms belong in the content?</p>

					<p class="issue">This question arises only if the table of contents is accepted:
						can a table of contents navigation element refer, via links, to any resource
						that is <em>not</em> listed in the <a>default reading order</a>?</p>

					<div class="issue">
						<p>The issue of using the <abbr title="Hypertext Markup Language"
								>HTML</abbr>
							<code>nav</code> element as a possible encoding of the table of contents
							is mentioned or explicitly addressed in the following issues:</p>
						<ul>
							<li><a href="https://github.com/w3c/wpub/issues/35">Issue #35</a>:
								Define the resources in the <a>default reading order</a> of a <a>Web
									Publication</a> to be the resources referenced from the table of
								contents.</li>
							<li><a href="https://github.com/w3c/wpub/issues/39">Issue #39</a>: There
								is a consensus that a Web Publication must have a <a>default reading
									order</a> and must/should have a <a>table of contents</a> (the
								main navigation entry point).</li>
						</ul>
					</div>
				</section>
			</section>

			<section id="wp-extensibility">
				<h3>Extensibility</h3>

				<p>The <abbr title="information set"><a>infoset</a></abbr> is designed to provide a basic set of properties
					for use by user agents in presenting and rendering a <a>Web Publication</a>, but authors MAY extend it in
					the following ways:</p>

				<ol>
					<li>through the inclusion of additional properties in the manifest;</li>
					<li>by the provision of linked metadata records.</li>
				</ol>

				<p>User Agents MAY support additional properties but MUST NOT include unrecognized
					properties in the <abbr title="information set">infoset</abbr>. The use of
					linked records is RECOMMENDED whenever possible, as the use of native formats
					standardizes and simplifies processing by user agents.</p>
			</section>
		</section>
		<section id="manifest">
			<h2>Manifest</h2>

			<section id="manifest-intro" class="informative">
				<h3>Overview</h3>

				<p>A <a>manifest</a> is a specific serialization of a <a>Web Publication's</a>
					<abbr title="information set"><a>infoset</a></abbr>.</p>
			</section>

			<section id="manifest-req">
				<h3>Requirements</h3>

				<p>The requirements for a conforming Web Publication manifest are as follows:</p>

				<ol>
					<li>It MUST <a href="#manifest-declaration">declare</a> that it describes a Web
						Publication.</li>
					<li>It MUST be serialized as defined in <a href="#manifest-serialization"
						></a>.</li>
				</ol>
			</section>

			<section id="manifest-declaration">
				<h3>Declaration</h3>

				<div class="ednote">A description of how a <a>manifest</a> declares it describes a
						<a>Web Publication</a> will be included in a future draft, as such a
					mechanism will depend on integration with [[appmanifest]].</div>
			</section>

			<section id="manifest-serialization">
				<h3>Serialization</h3>

				<p>The manifest is serialized as a JSON document [[!ecma-404]].</p>

				<div class="ednote">Additional serialization details will be included in a future
					draft, as these will depend on integration with [[appmanifest]].</div>

				<p class="issue" data-number="32"></p>
			</section>
		</section>
		<section id="wp-construction">
			<h2>Web Publication Construction</h2>

			<section id="wp-resources">
				<h2>Resources</h2>

				<p>Authors MUST include at least one [[!html]] document that <a href="#wp-linking">links to the
					manifest</a>.</p>

				<p>There are no restrictions on a Web Publication beyond this requirement. Authors MAY reference resources of any
					media type, both in the <a>default reading order</a> and as dependencies of other resources.</p>

				<div class="note">
					<p>When adding resources to a Web Publication, consider support in user agents.
						The use of progressive enhancement techniques and the provision of fallback
						content, as appropriate, will ensure a more consistent reading experience
						for users regardless of their preferred user agent.</p>
				</div>
			</section>

			<section id="wp-linking">
				<h2>Linking to a Manifest</h2>

				<p>Providing a link from a resource to the <a>manifest</a> of the <a>Web
						Publication</a> it belongs to allows a user agent to discover that a Web
					Publication is available. Links MUST take one or both of the following
					forms:</p>

				<ul>
					<li><p>An HTTP Link header field&#160;[[!rfc5988]] with its <code>rel</code>
							parameter set to the value "<code>publication</code>".</p>
						<pre class="example">Link: &lt;https://example.com/webpub/manifest>; rel=publication</pre>
					</li>
					<li><p>An [[!html]] <code>link</code> element with its <code>rel</code>
							attribute set to the value "<code>publication</code>".</p>
						<pre class="example">&lt;link href="https://example.com/webpub/manifest" rel="publication"/></pre>
					</li>
				</ul>

				<p class="issue">How linking to a <a>manifest</a> is done (relationship, media type)
					may change depending on <a href="#rel-wam">future integration with Web App
						Manifest</a>. For a list of differences in linking approaches, refer to the
						<a href="https://github.com/w3c/wpub/wiki/Options-for-Processing-a-Manifest"
						>wiki analysis</a>. See <a href="https://github.com/w3c/wpub/issues/32"></a>
					for discussion.</p>

				<p>Authors SHOULD link resources to the Web Publication(s) to which they belong.</p>

				<p class="ednote">The following details might be moved to the lifecycle section in a
					future draft.</p>

				<p>When a resource links to multiple manifests, a user agent MAY choose to present
					one or more alternatives to the end user, or choose a single alternative on its
					own. The user agent MAY choose to present any manifest based upon information
					that it possesses, even one that is not explicitly listed as a parent (e.g.,
					based upon information it calculates or acquires out of band). In the absence of
					a preference by user agent implementers, selection of the first manifest listed
					is suggested as a default.</p>

				<p class="issue" data-number="13">If there is a collection of information about a
						<a>Web Publication</a> as a whole ("<a>manifest</a>") that exists separately
					from most of the publication's resources, there needs to be a way to associate
					the manifest with the other publication resources.</p>
			</section>
		</section>
		<section id="wp-lifecycle">
			<h2>Web Publication Lifecycle</h2>

			<div class="ednote">
				<p>The publishing working group is currently evaluating the best approach for
					implementing <a>Web Publications</a> in user agents. This note is intended to
					provide an overview of where current thinking is at and what issues are under
					consideration.</p>

				<p>The development of Web Publications is not viewed as a separate forking of the
					Web, but an enhancement layer that can be supported by user agents. To that end,
					the primary constraints on any solution for Web Publications are that:</p>

				<ul>
					<li>the rendering of Web Publications must not interfere with the underlying Web
						model and <abbr title="Application Programming Interfaces">APIs</abbr>
						&#8212; all functionality and enhancements must be layered on top;</li>
					<li>a Web Publication should not have to carry its own implementation code
						&#8212; functionality is ideally provided by the user agent and/or
						polyfill.</li>
				</ul>

				<p>While this specification will provide implementation flexibility for user agents,
					there are still a number of areas that have been identified as potentially
					needing to be detailed. These include:</p>

				<ul>
					<li>
						<p>initialization expectations for a Web Publication:</p>
						<ul>
							<li>automatic initiation v. user prompts;</li>
							<li>linked v. directly loaded manifests;</li>
							<li>resources that belong to more than one Web Publication.</li>
						</ul>
					</li>
					<li>
						<p>the creation of a "publication state":</p>
						<ul>
							<li>persistence of publication information across page loads;</li>
							<li>location and persistence of UI;</li>
							<li>indications of supported features;</li>
							<li>DOM issues such as persistence of numbering schemes.</li>
						</ul>
					</li>
					<li>
						<p>tracking the extent of a Web Publication:</p>
						<ul>
							<li>taking an entire publication offline;</li>
							<li>enabling search across documents.</li>
						</ul>
					</li>
					<li>
						<p>establishing the bounds of a Web Publication:</p>
						<ul>
							<li>when to end the publication state;</li>
							<li>document history traversal;</li>
							<li>how to handle links outside the publication.</li>
						</ul>
					</li>
					<li>updating of the <a>manifest</a>.</li>
				</ul>

				<p>The working group intends to flesh out the lifecycle in later revisions once it
					is clearer what models are viable and what solutions can be standardized. Input
					on the feasibility and challenges of these approaches is welcome at any
					time.</p>
			</div>

			<section id="obtaining-manifest">
				<h3>Obtaining a manifest</h3>
				<div class="ednote">
					<p><a href="#wp-linking">Discovery of a manifest</a> is currently tied to the
							<code>publication</code> value for the <code>rel</code> attribute in an
						HTTP <code>Link</code> header or an HTML <code>link</code> element.</p>
					<p>This could change in the future if our work aligns with [[appmanifest]] or
						another manifest format.</p>
				</div>
				<p>The <dfn data-lt="obtaining the manifest|obtaining a manifest|obtains a manifest"
						>steps for obtaining a manifest</dfn> are given by the following algorithm.
					The algorithm, if successful, returns a <a>processed manifest</a> and the
						<var>manifest URL</var>; otherwise, it terminates prematurely and returns
					nothing. In the case of nothing being returned, the user agent MUST ignore the
					manifest declaration.</p>
				<ol>
					<li> From the <code>Document</code> of the top-level browsing context, let
							<var>origin</var> be the <code>Document</code>'s origin, and
							<var>manifest link</var> be the first <code>link</code> element in tree
						order whose <code>rel</code> attribute contains the token
							<code>publication</code>. </li>
					<li> If <var>origin</var> is an [[!html]] opaque origin, terminate this
						algorithm. </li>
					<li> If <var>manifest link</var> is <code>null</code>, terminate this algorithm. </li>
					<li> If <var>manifest link</var>'s <code>href</code> attribute's value is the
						empty string, then abort these steps. </li>
					<li> Let <var>manifest URL</var> be the result of parsing the value of the
							<code>href</code> attribute, relative to the element's base URL. If
						parsing fails, then abort these steps. </li>
					<li> Let <var>request</var> be a new [[!FETCH]] request, whose URL is
							<var>manifest URL</var>, and whose context is
						"<code>publication</code>". </li>
					<li> If the <var>manifest link</var>'s <code>crossOrigin</code> attribute's
						value is '<code>use-credentials</code>', then set <var>request</var>'s
						credentials to '<code>include</code>'. </li>
					<li> Await the result of performing a [[!FETCH]] with <var>request</var>,
						letting <var>response</var> be the result. </li>
					<li> If <var>response</var> is a network error, terminate this algorithm. </li>
					<li> Let <var>text</var> be the result of UTF-8 decoding <var>response</var>'s
							<a data-cite="!FETCH#concept-request-body">body</a>. </li>
					<li> Let <var>manifest</var> be the result of running <a>processing a
							manifest</a> given <var>text</var>, <var>manifest URL</var>, and the URL
						that represents the address of the top-level browsing context. </li>
					<li> Return <var>manifest</var> and <var>manifest URL</var>. </li>
				</ol>

				<p>(See the <a href="#obtaining-manifest-diagram">diagram in the appendix</a> for a
					visual representation of the algorithm.)</p>

				<div class="ednote">The <code>publication</code> value for context doesn't exist
					yet. We'll need to define and register this context value properly.</div>
			</section>
			<section id="processing-manifest">
				<h3>Processing the manifest</h3>
				<div class="ednote">
					<p>The <a>manifest</a> could be processed differently if we align with
						[[appmanifest]] or another format in the future.</p>
					<p>Instead of using our own algorithm, processing would have to be defined as an
						extension point for another algorithm.</p>
				</div>
				<p> The <dfn data-lt="processing the manifest|processing a manifest">steps for
						processing a manifest</dfn> are given by the following algorithm.The
					algorithm takes a <var>text</var> string as an argument, which represents a
						<a>manifest</a>, and a [[!URL]] <var>manifest URL</var>, which represents
					the location of the manifest, and a [[!URL]] <var>document URL</var>. The output
					from inputting an JSON document into this algorithm is a <dfn>processed
						manifest</dfn>. </p>
				<ol>
					<li> Let <var>json</var> be the result of <a
							data-cite="!ECMASCRIPT#sec-json.parse">parsing</a>
						<var>text</var>. If <a data-cite="!ECMASCRIPT#sec-json.parse">parsing</a>
						throws an error: <ol>
							<li> Issue a developer warning with any details pertaining to the JSON
								parsing error. </li>
							<li> Set <var>json</var> to be the result of <a
									data-cite="!ECMASCRIPT#sec-15.12.2">parsing</a> the string
									<code>"{}"</code>. </li>
						</ol>
					</li>
					<li> If Type(<var>json</var>) is not <code>Object</code>: <ol>
							<li> Issue a developer warning that the manifest needs to be an object. </li>
							<li> Set <var>json</var> to be the result of <a
									data-cite="!ECMASCRIPT#sec-15.12.2">parsing</a> the string
									<code>"{}"</code>. </li>
						</ol>
					</li>
					<li> Extension point: process any proprietary and/or other supported members at
						this point in the algorithm. </li>
					<li> Let <var>manifest</var> be the result of <a
							href="https://www.w3.org/TR/WebIDL-1/#es-dictionary">converting</a>
						<var>json</var> to a <a>WebPublicationManifest</a> dictionary. </li>
					<li> Set <var>manifest</var>["reading_order"] to the result of <a>processing the
							default reading order</a> given <var>manifest</var>["reading_order"],
							<var>manifest</var>["resources"], <var>manifest URL</var>, and
							<var>document URL</var>. </li>
					<li> Return <var>manifest</var>. </li>
				</ol>

				<p>(See the <a href="#processing-manifest-diagram">diagram in the appendix</a> for a
					visual representation of the algorithm.)</p>

			</section>

			<section id="processing-reading-order">
				<h3>Processing the default reading order</h3>
				<p> The <dfn data-lt="processing the default reading order">steps for processing the
						default reading order</dfn> are given by the following algorithm. </p>
				<ol>
					<li> If <var>manifest</var>["reading_order"] is not empty, return it and
						terminate this algorithm. </li>
					<li> If <var>manifest</var>["resources"] is not empty, let <var>navigation
							document link</var> be the first <a>PublicationLink</a> whose
							<code>rel</code> member contains the token <code>contents</code>. </li>
					<li> If <var>navigation document link</var> is not <code>null</code> and its
							<code>href</code> member is not <code>empty</code>, let <var>navigation
							document URL</var> be the result of parsing the value of the
							<code>href</code> attribute, relative to the <var>manifest URL</var>. </li>
					<li> If <var>navigation document URL</var> is empty, set <var>navigation
							document URL</var> to <var>document URL</var>. </li>
					<li> Let <var>request</var> be a new [[!FETCH]] request, whose URL is
							<var>navigation document URL</var>, and whose context is
							"<code>publication</code>". </li>
					<li> Await the result of performing a [[!FETCH]] with <var>request</var>,
						letting <var>response</var> be the result. </li>
					<li> If <var>response</var> is a network error, terminate this algorithm. </li>
					<li> Let <var>document</var> be the result of UTF-8 decoding
						<var>response</var>'s <a data-cite="!FETCH#concept-request-body">body</a>. </li>
					<li> If <var>document</var> is not an [[!html]] document, terminate this
						algorithm. </li>
					<li> Let <var>default reading order</var> be the result of processing
							<var>document</var>: <ol>
							<li> If <var>document</var> contains a <code>nav</code> element: <ol>
									<li>Extract a list of resource paths referenced from the
											<code>href</code> attribute of all <code>a</code>
										elements.</li>
									<li>Strip any fragment identifiers from the references.</li>
									<li>Resolve all relative paths to full URLs.</li>
									<li>Remove all consecutive references to the same resource,
										leaving only the first.</li>
								</ol>
							</li>
							<li> Otherwise terminate this algorithm. </li>
						</ol>
					</li>
					<li>Return <var>default reading order</var>.</li>
				</ol>

				<p>(See the <a href="#processing-reading-order-diagram">diagram in the appendix</a>
					for visual representation of the core of the algorithm and the <a
						href="#processing-reading-order-nav-diagram">separate diagram on handling
						the <code>nav</code> element</a>.)</p>

			</section>

		</section>
		<section id="wp-affordances">
			<h2>Affordances</h2>

			<p class="ednote">This section contains placeholders for possible reading
				enhancements/affordances the user agent may/should/must provide. The list is subject
				to addition, modification and removal as the enhancements get discussed in more
				detail.</p>

			<p class="issue" data-number="143"></p>

			<section id="aff-publication-mode">
				<h3>Switch to publication mode</h3>
				<p>When a User Agent <a>obtains a manifest</a> it SHOULD display an affordance for
					switching the display to <a>publication mode</a>.</p>
				<p>This affordance has the following requirements:</p>
				<ol>
					<li>it MUST inform the user that the current resource is part of a Web
						Publication</li>
					<li>it SHOULD display the title of the Web Publication</li>
					<li>it MAY display additional metadata from the <abbr title="information set"
								><a>infoset</a></abbr></li>
				</ol>
				<p><dfn>Publication mode</dfn> is a display mode implemented by the User Agent that
					follows the conventions listed in <a href="#aff-presentation">presentation</a>
					and <a href="#navigation">navigation</a>.</p>
			</section>

			<section id="aff-add-to-list">
				<h3>Add to the list of publications</h3>
				<p>User Agents SHOULD provide a <dfn>list of publications</dfn> where the User can
					browse, search, add and remove their publications.</p>
				<p>When a User Agent <a>obtains a manifest</a> for a Web Publication that's not
					currently listed in the <a>list of publications</a>, it MAY provide an
					affordance to add it to the list.</p>
				<p>This affordance has the following requirements:</p>
				<ol>
					<li>it SHOULD display the title of the Web Publication</li>
					<li>it MAY display additional metadata from the <abbr title="information set"
								><a>infoset</a></abbr></li>
				</ol>
			</section>

			<section id="aff-presentation">
				<h3>Presentation</h3>
				<section id="layout">
					<h4>Layout</h4>

					<p>The layout and rendering of <a>Web Publications</a> is governed by the same
						rules that apply to all Web content: [[html]] documents are styled and laid
						out according to the rules of <a href="https://www.w3.org/TR/CSS/"><abbr
								title="Cascading Style Sheets">CSS</abbr></a>, [[!SVG]] documents
						are rendered as expected of that format, etc. This specification requires no
						particular profile or subset of <abbr title="Cascading Style Sheets"
							>CSS</abbr>, <abbr title="Hypertext Markup Language">HTML</abbr>, or
							<abbr title="Scalable Vector Graphics">SVG</abbr> to be supported, other
						than the expectations set for these technologies by their respective
						specifications.</p>

					<div class="ednote">
						<p>This specification intentionally avoids introducing any new layout
							features. Any shortcoming of the Web platform in terms of layout needs
							to be addressed for the whole Web platform, which means via <abbr
								title="Cascading Style Sheets">CSS</abbr>.</p>

						<p>This working group will work with other relevant groups of the <abbr
								title="World Wide Web Consortium">W3C</abbr> to address
							platform-wide limitations that negatively impact <a>Web
							Publications</a>.</p>
					</div>

					<p>For the purposes of layout, each resource of a Web Publication is treated as
						a separate document. User agents MUST NOT mix content from multiple
						resources in the same rendering (e.g., <a
							href="https://www.w3.org/TR/CSS21/visuren.html#floats">CSS floats</a> or
							<a href="https://www.w3.org/TR/CSS21/visuren.html#absolutely-positioned"
							>absolutely positioned elements</a> from one resource cannot intrude or
						overlap with content from an other resource).</p>

					<div class="note">
						<p>Despite this general requirement that each resource should be treated as
							a separate document for the purpose of layout, there are some places
							where <abbr title="Cascading Style Sheets">CSS</abbr> specifications
							should be amended to be able to deal more intelligently with collections
							of resources like <a>Web Publications</a>.</p>

						<p>One instance is the definition of <a
								href="https://drafts.csswg.org/css-content/#cross-references"
								>cross-references</a>, which are currently restricted to work only
							within a single document. This restriction should be relaxed to allow
							for cross-references between separate resources of a single Web
							Publication.</p>

						<p>Another related would be to allow <a
								href="https://drafts.csswg.org/css-lists-3/#counter-properties"
								>counters</a> to accumulate across multiple resources of a single
							Web Publication (e.g., so that figures in multiple sections may be
							numbered in a single sequence).</p>
					</div>

				</section>

				<section id="aff-user-settings">
					<h4>User Settings</h4>

					<p>When a user agent renders a <a>Web Publication</a>, it SHOULD provide user
						settings to customize the experience.</p>
					<p>User settings may include:</p>
					<ul>
						<li>text size</li>
						<li>font family</li>
						<li>display mode (night, high contrast...) </li>
						<li>playback speed (for audio and video resources) </li>
					</ul>
					<p>This specification does not cover how the user agent may override author
						styles to offer user settings.</p>

					<div class="ednote">
						<p>To provide user settings in their reader mode, browsers usually get rid
							of most of the author styles.</p>
						<p>There's always a tension in reading environments between author styles
							and the user's preference, which is very hard to balance.</p>
					</div>

					<p class="issue" data-number="138"></p>
					<p class="issue" data-number="136"></p>


				</section>

				<section id="scrolling-or-paginating" class="informative">
					<h4>Scrolling or Paginating</h4>

					<p>Publications have historically been presented via paged media, whereas Web
						pages almost always scroll. As the preferences of individual readers vary,
						and as different types of publications are better suited for one or the
						other, this specification encourages user agents to support both, and to
						offer a choice to their users.</p>

					<div class="note">
						<p>It may be useful for authors to be able to specify a preference between
							scrolling and pagination, even if a strict requirement is not possible.
							This should most likely be addressed through an extension of <a
								href="https://www.w3.org/TR/css-device-adapt-1/#atviewport-rule"
									><code>@viewport</code></a> or of <a
								href="https://drafts.csswg.org/css-device-adapt/#viewport-meta">the
								viewport meta tag</a>(see [[css-device-adapt]]), or possibly through
							an extension of <a
								href="https://drafts.csswg.org/css-page-3/#at-page-rule"
									><code>@page</code></a> (See [[css-page-3]]). This should be
							discussed with the relevant working groups (<a
								href="https://www.w3.org/Style/CSS/">CSSWG</a>, <a
								href="https://www.w3.org/WebPlatform/WG/">WebPlatformWG</a>, <a
								href="https://whatwg.org/">WHATWG</a>).</p>
					</div>
					<p class="issue" data-number="137"></p>

				</section>
				<section id="aff-pagination">
					<h4>Paginated Layout</h4>

					<p>When a user agent renders a <a>Web Publication</a> in a paginated layout, it
						MUST lay out each document in the <a>default reading order</a> sequentially,
						with the last page of a resource being followed by the first page of the
						subsequent one.</p>

					<div class="note">
						<p>To avoid blank pages, if a resource ends on a left page (resp. right
							page), the subsequent one should start on a right page (resp. left page)
							even if the <a href="https://drafts.csswg.org/css-page-3/#progression"
								>page progression</a> (see [[!css-page-3]]) would otherwise lead to
							it starting on the opposite page. It should also be possible to use the
								<a href="https://www.w3.org/TR/css-break-3/#propdef-break-before"
								>break-before</a> property (see [[!css-break-3]]) to force the
							content to resume on the opposite side if that was desired by the
							author.</p>

						<p>[[css-page-3]] needs to be amended to describe this exception to the
							general behavior when dealing with collections of documents instead of
							individual documents.</p>
					</div>


					<div class="note">
						<p>How is pagination supposed to work when subsequent resources have
							opposite <a href="https://drafts.csswg.org/css-page-3/#progression">page
								progression</a> directions (see [[css-page-3]]). For example, due to
							different a different writing mode? This is not necessarily a problem
							from a layout point of view, as each page is independent, but from an UI
							point of view. If swiping left means next page until the end of one
							chapter, and starts meaning previous page in the next chapter because
							the language is switched from English to Hebrew, this is going to be
							confusing.</p>
					</div>

					<div class="note">
						<p>[[css-page-3]] needs to be amended so that <a
								href="https://drafts.csswg.org/css-page-3/#page-based-counters">page
								counters</a> are not automatically reset to at the beginning of each
							new resource belonging to the same Web Publication.</p>
					</div>

					<p class="issue" data-number="137"></p>

				</section>
			</section>

			<section id="aff-nav">
				<h3>Navigation</h3>

				<p class="issue" data-number="86"></p>

				<section id="aff-reading-order">
					<h4>Reading Order</h4>

					<p>Hyperlinks are the means by which multiple resources are linked together on
						the Web. When users reach the end of one resource, they have to activate a
						hyperlink to move to the next resource in the sequence. While this model of
						navigation is effective, it is also disruptive for immersive reading &#8212;
						it forces users to disengage from the content and perform the actions
						necessary to activate the links. It is also limited to media types that
						support hyperlinks.</p>

					<p>The <a>default reading order</a> provides an enhancement to the hyperlink
						model, allowing the user agent to automatically move the user to the next
						resource when a more natural action occurs, like a general swipe across the
						screen. It is similar conceptually and functionally to the [[!html]]
							<code>link</code> element's <a
							href="https://www.w3.org/TR/html5/links.html#sec-link-types"
								><code>next</code> and <code>prev</code> relationships</a>.</p>

					<p>User agents MUST provide an affordance for moving forward and backward in the
							<a>default reading order</a> of a <a>Web Publication</a>.</p>

					<p class="issue" data-number="144"></p>
					<p class="issue" data-number="38"></p>
					<p class="issue" data-number="136"></p>
				</section>

				<section id="aff-progression">
					<h4>Progression</h4>

					<p>While reading a <a>Web Publication</a>, the user follows a natural
						progression within a resource as well as between resources (following the
							<a>default reading order</a>).</p>

					<p>User agents SHOULD provide an affordance that saves this progression in the
						publication and return the user to their current location the next time that
						they open the publication again.</p>

					<p>When the user agent <a>obtains a manifest</a> for the first time, it MAY also
						prompt the user whether they'd like to:</p>
					<ul>
						<li>continue reading the publication from their current location</li>
						<li>or start reading the publication from the first resource in the
								<a>default reading order</a></li>
					</ul>
					<p class="issue" data-number="145"></p>
					<p class="issue" data-number="136"></p>
				</section>

				<section id="aff-toc">
					<h4>Table of Contents</h4>

					<p>The table of contents is one of the key aids to navigating a publication, as
						it enables users to quickly move to the start of major sections. It is also
						a useful aid in understanding the overall structure and purpose of a
						publication (e.g., what topics are covered, where the user currently is in
						relation to the overall structure). Users often want quick access the table
						contents for these reasons.</p>

					<p>User agents SHOULD provide an affordance for accessing this table of contents
						without leaving the resource they are currently viewing.</p>

					<p class="issue" data-number="145"></p>
					<p class="issue" data-number="9">Does the user agent need to provide access to
						the <a>table of contents</a>, or do such mechanisms belong in the
						content.</p>
				</section>
			</section>

			<section id="aff-offline-access">
				<h3>Offline Access</h3>

				<p class="issue" data-number="141"></p>
			</section>

			<section id="aff-search">
				<h3>Search</h3>

				<p class="ednote">Detail on inter-publication search across multiple resources will
					be included in a future draft.</p>
				<p class="issue" data-number="136"></p>
			</section>
		</section>
		<section id="locators" class="informative">
			<h3>Web Publication Locators</h3>

			<p class="ednote"> The document referred from this section, i.e., Web Annotation
				Extensions for Web Publications&#160;[[!wpub-ann]], has been recently renamed. Its
				previous was "Locators for Web Publication". The terminology used in this section
				has to be realigned with the name change. </p>

			<p>Locators are used to identify, locate, retrieve, and/or reference locations and
				content fragments within <a>Web Publications</a> (e.g., for address(es), bookmarks,
				and annotations). Locators traditionally take the form of fragment identifiers
				[[rfc3986]], where the portion of a <abbr title="Uniform Resource Locator"
					>URL</abbr> preceded by a number sign character (<code>#</code>) identifies a
				specific position within the referenced resource.</p>

			<p>For some use cases, it is essential to identify and reference a <a>Web
					Publication</a> resource—or a location in or a segment of a resource—in the
				scope or context of the Web Publication to which it belongs. A traditional fragment
				identifier cannot satisfy this requirement, since only the <abbr
					title="Uniform Resource Locator">URL</abbr> of the constituent resource
				containing the location or content fragment of interest is expressed. The Web
				Annotation Extensions for Web Publications&#160;[[!wpub-ann]] document, based on the
				Web Annotation Model&#160;[[!annotation-model]], addresses this issue by providing
				the means to express both the <abbr title="Uniform Resource Locator">URL</abbr> of
				the resource and the <abbr title="Uniform Resource Locator">URL</abbr> of the Web
				Publication.</p>

			<p>Web Publication Locators also address the problem of referencing into a resource that
				was not authored with such a need in mind. A fragment identifier can only reference
				elements with explicit identifiers and locations with explicit anchor points. Web
				Publication Locators include a variety of selectors that work with the general
				structures and content of a resource (e.g., text selectors, <abbr
					title="Cascading Style Sheets">CSS</abbr> selectors).</p>

			<p class="ednote">As Web Publication Locators currently rely on a <abbr
					title="JavaScript Object Notation">JSON</abbr>-based expression syntax, it is
				not yet clear how much of this syntax can be translated to a fragment identifier.
				This may limit the usefulness beyond expressions that are also <abbr
					title="JavaScript Object Notation">JSON</abbr>-based (e.g., outside of
				annotations or bookmarks).</p>

			<div class="ednote">
				<p>Illustrate with example of an easy to understand Web Publication Locator, such as
					might be used in annotating a simple Web Publication.</p>
			</div>

			<p>The semantics of Web Publication Locators are a mapping and extension of the Web
				Annotation Data Model [[annotation-model]] and Vocabulary [[annotation-vocab]] for
				describing and referencing a segment of a Web resource. As a result, Web Publication
				Locators provide the expressiveness needed for a broad range of annotation and
				bookmarking use cases. Additionally, Web Publication Locators provide a way to
				identify and reference a location within a Web Publication (i.e., as distinct from
				identifying and referencing a content fragment consisting of a span of characters or
				bytes). A Web Publication Locator can be used to identify, retrieve and/or reference
				a fragment of a Web Publication that spans multiple resources. </p>

			<div class="note">
				<p>In composing a Web Publication Locator, use the <a>canonical identifier</a> of
					the Web Publication in preference to any alternative addresses. Such use
					facilitates the collation of Web Publication Locators associated with a
					particular Web Publication. <abbr title="Uniform Resource Locators">URLs</abbr>
					of Web Publication resources appearing in a Web Publication Locator should match
					the <abbr title="Uniform Resource Locators">URL</abbr> of the resource provided
					in the <abbr title="information set"><a>infoset</a></abbr>.</p>
			</div>
		</section>
		<section id="security">
			<h2>Security</h2>

			<div class="ednote">Placeholder for security issues.</div>
		</section>
		<section id="privacy">
			<h2>Privacy</h2>

			<div class="ednote">Placeholder for privacy issues.</div>
		</section>
		<section class="appendix" id="webidl">
			<h2>WebIDL</h2>

			<section id="webpublicationmanifest-dictionary">
				<h3>
					<dfn>WebPublicationManifest</dfn> dictionary </h3>
				<pre class="idl">
                    dictionary WebPublicationManifest {
                        required    USVString                               address;
                                    DOMString                               lang;
                                    TextDirection                           dir = "auto";
                                    sequence&lt;LocalizableString&gt;       title;
                                    USVString                               identifier;
                                    sequence&lt;LocalizableString&gt;       author;
                                    DOMString                               modified;
                                    DOMString                               publication_date;
                                    sequence&lt;PublicationLink&gt;         links;
                                    sequence&lt;PublicationLink&gt;         reading_order;
                                    sequence&lt;PublicationLink&gt;         resources;
                    };
      </pre>

				<p>The <a>WebPublicationManifest</a> has the following members:</p>
				<dl data-dfn-for="WebPublicationManifest">
					<dt>
						<dfn>address</dfn>
					</dt>
					<dd> Contains the <a href="#wp-address">address</a>. Required. </dd>
					<dt>
						<dfn>lang</dfn>
					</dt>
					<dd> Contains the default value <a href="#wp-language">language</a>. </dd>
					<dt>
						<dfn>dir</dfn>
					</dt>
					<dd> Contains the default value for <a>base direction</a>. </dd>
					<dt>
						<dfn>title</dfn>
					</dt>
					<dd> Contains the <a href="#wp-title">title</a>. </dd>
					<dt>
						<dfn>identifier</dfn>
					</dt>
					<dd> Contains the <a>canonical identifier</a>. </dd>
					<dt>
						<dfn>author</dfn>
					</dt>
					<dd> Contains one or more <a href="#wp-creators">creators</a>. </dd>
					<dt>
						<dfn>modified</dfn>
					</dt>
					<dd> Contains the <a>last modification date</a>. </dd>
					<dt>
						<dfn>publication_date</dfn>
					</dt>
					<dd> Contains the <a>publication date</a>. </dd>
					<dt>
						<dfn>links</dfn>
					</dt>
					<dd> Contains links to external resources. </dd>
					<dt>
						<dfn>reading_order</dfn>
					</dt>
					<dd> Contains the <a>default reading order</a>. </dd>
					<dt>
						<dfn>resources</dfn>
					</dt>
					<dd> Contains the <a>resource list</a>. </dd>
				</dl>
			</section>

			<section id="dir-idl">
				<h3>
					<code>dir</code> member </h3>
				<pre class="idl">
                    enum TextDirection {
                        "ltr",
                        "rtl",
                        "auto"
                    };
                </pre>
				<p> The <code>dir</code> member's value are defined by <dfn>TextDirection</dfn> as: </p>
				<dl data-dfn-for="TextDirection">
					<dt>
						<dfn>ltr</dfn>
					</dt>
					<dd> left-to-right text. </dd>
					<dt>
						<dfn>rtl</dfn>
					</dt>
					<dd> right-to-left text. </dd>
					<dt>
						<dfn>auto</dfn>
					</dt>
					<dd> determined by the Unicode Bidirectional Algorithm [[!UAX9]] algorithm.
					</dd>
				</dl>
			</section>

			<section id="localizable-idl">
				<h3>
					<dfn>LocalizableString</dfn> dictionary </h3>
				<p class="ednote">This is a slightly tweaked version of the i18n recommendation that
					also includes a string value in addition to a language and a direction.</p>
				<p class="ednote">While this should be enough for the title, this strategy currently
					limits the manifest to a single author. We'll need to introduce an additional
					dictionary for authors to avoid this issue.</p>
				<p>In our <abbr title="information set"><a>infoset</a></abbr>, some metadata have
					strong requirements for internationalization. For those members, we rely on the
						<a href="https://w3c.github.io/string-meta/#bestPractices">best practices
						established by the i18n WG</a> and rely on a <a>LocalizableString</a>
					dictionary.</p>
				<pre class="idl">
                    dictionary LocalizableString {
                        required    USVString       value;
                                    DOMString       lang;
                                    TextDirection   dir = "auto";
                    };
                </pre>
				<p>When <code>lang</code> or <code>dir</code> are specified in
						<a>LocalizableString</a>, these values override the default language and
					base direction specificed in <a>WebPublicationManifest</a>.</p>
				<p><a>LocalizableString</a> has the following members:</p>
				<dl data-dfn-for="LocalizableString">
					<dt>
						<dfn>value</dfn>
					</dt>
					<dd> Contains the localized string. </dd>
					<dt>
						<dfn>lang</dfn>
					</dt>
					<dd> Contains the <a href="#wp-language">language</a>. </dd>
					<dt>
						<dfn>dir</dfn>
					</dt>
					<dd> Contains the <a>base direction</a>. </dd>
				</dl>
			</section>

			<section id="link-webidl">
				<h3>
					<dfn>PublicationLink</dfn> dictionary </h3>
				<pre class="idl">
                    dictionary PublicationLink {
                        required    USVString                   href;
                                    DOMString                   type;
                                    USVString                   title;
                                    sequence&lt;DOMString&gt;   rel;
                                    DOMString                   height;
                                    DOMString                   width;
                                    boolean                     templated;
                    };
                </pre>

				<p class="ednote">This is based on a simplifed model of <abbr
						title="Readium Web Publication Manifest"><a
							href="https://github.com/readium/webpub-manifest">RWPM</a></abbr> where
					the link does not contain properties. In the context of EPUB 4, we might need to
					re-introduce these properties as well.</p>

				<p>The PublicationLink dictionary contains the following members:</p>

				<dl data-dfn-for="PublicationLink">
					<dt>
						<dfn>href</dfn>
					</dt>
					<dd> Contains the [[!URL]] of the linked resource. </dd>
					<dt>
						<dfn>type</dfn>
					</dt>
					<dd> Contains the MIME media type of the linked resource. </dd>
					<dt>
						<dfn>title</dfn>
					</dt>
					<dd> Text label for the linked resource. </dd>
					<dt>
						<dfn>rel</dfn>
					</dt>
					<dd> Contains one or more rel based on the <a
							href="https://www.iana.org/assignments/link-relations.html">IANA link
							registry</a>. </dd>
					<dt>
						<dfn>height</dfn>
					</dt>
					<dd> Height of the linked resource, expressed in pixels. </dd>
					<dt>
						<dfn>width</dfn>
					</dt>
					<dd> Width of the linked resource, expressed in pixels. </dd>
					<dt>
						<dfn>templated</dfn>
					</dt>
					<dd> Indicates that the <a href="#dom-publicationlink-rel"><code>href</code></a>
						is a URI template. </dd>
				</dl>

			</section>

		</section>
		<section class="appendix informative">
			<h2>Lifecycle diagrams</h2>

			<p>These diagrams provide a visual view of the lifecycle steps, as specified in <a
					href="#wp-lifecycle"></a>.</p>


			<figure id="obtaining-manifest-diagram">
				<img src="images/lifecycle_obtain_manifest.svg"
					alt="Flowchart depicts how to obtain a manifest." />
				<figcaption> Obtain a manifest. <br />See the normative description of the algorithm
					in <a href="#obtaining-manifest"></a>. Image available in <a
						href="images/lifecycle_obtain_manifest.svg"
						title="SVG image of the algorithm for obtaining a manifest">SVG</a> and <a
						title="PNG image of the algorithm for obtaining a manifest"
						href="images/lifecycle_obtain_manifest.png">PNG</a> formats. </figcaption>
			</figure>


			<figure id="processing-manifest-diagram">
				<img src="images/lifecycle_process_a_manifest.svg"
					alt="Flowchart depicts how to process a manifest." />
				<figcaption> Process a manifest. <br />See the normative description of the
					algorithm in <a href="#processing-manifest"></a>. Image available in <a
						href="images/lifecycle_process_a_manifest.svg"
						title="SVG image of the algorithm for processing a manifest">SVG</a> and <a
						title="PNG image of the algorithm for processing a manifest"
						href="images/lifecycle_process_a_manifest.png">PNG</a> formats.
				</figcaption>
			</figure>

			<figure id="processing-reading-order-diagram">
				<img src="images/lifecycle_default_reading_order.svg"
					alt="Flowchart depicts how to obtain a reading order." />
				<figcaption> Process default reading order. <br />See the normative description of
					the algorithm in <a href="#processing-reading-order"></a>. Image available in <a
						href="images/lifecycle_default_reading_order.svg"
						title="SVG image of the algorithm for obtaining the default reading order"
						>SVG</a> and <a
						title="PNG image of the algorithm for obtaining the default reading order"
						href="images/lifecycle_default_reading_order.png">PNG</a> formats.
				</figcaption>
			</figure>

			<figure id="processing-reading-order-nav-diagram">
				<img src="images/lifecycle_process_nav.svg"
					alt="Flowchart depicts how to process a 'nav' element (to obtain the reading order)." />
				<figcaption> Extract reading order (from the <code>nav</code> element, as part of
					the process for obtaining the reading order). <br />See the normative
					description of the algorithm in <a href="#processing-reading-order"></a>. Image
					available in <a href="images/lifecycle_process_nav.svg"
						title="SVG image of the algorithm for processing a 'nav' element (to obtain the reading order)"
						>SVG</a> and <a
						title="PNG image of the algorithm for processing a 'nav' element (to obtain the reading order)"
						href="images/lifecycle_process_nav.png">PNG</a> formats. </figcaption>
			</figure>

		</section>
		<section class="appendix informative">

			<h2>Image Descriptions</h2>

			<dl>
				<dt id="WP-diagram-descr">Description for the <a href="#WP-diagram">“Structure of Web Publications”
						diagram</a>:</dt>
				<dd>A simplified diagram of the structure of a <a>Web Publication</a>. The Web Publication is broken down
					into two elements. The first element is the actual contents (all the real things listed in the manifest).
					This element is broken down into the CSS, the actual “things” such as the HTML, audio, etc, and the
					images, fonts etc. The actual “things” have an additional subset of items that includes the entry point
					to the publication and all of the other documents. The second element is the Manifest (JSON). The
					manifest is used to generate the <a href="#infoset">Information Set (“Infoset”)</a>, which consists of a
					list of all the “things” in the publication, the publication metadata, and the default reading order of
					content. It is noted in the diagram that the entry point has to link to the manifest. (<a
						role="doc-backlink" href="#WP-diagram">Return to the diagram</a> of Web Publication.)</dd>
			</dl>

		</section>
		<section id="ack" data-include="common/html/acknowledgements.html"
			data-include-replace="true"></section>
	</body>
</html>
