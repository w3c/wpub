<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
	<head>
		<meta charset="utf-8" />
		<title>Web Publications</title>
		<script src="https://www.w3.org/Tools/respec/respec-w3c-common" class="remove" defer="defer"></script>
		<script src="common/js/biblio.js" class="remove"></script>
		<script src="common/js/orcid.js" class="remove"></script>
		<link href="common/css/common.css" rel="stylesheet" type="text/css" />

		<script class="remove">
		  // <![CDATA[
          var respecConfig = {
          	  postProcess: [show_orcid],
              wg: "Publishing Working Group",
              specStatus: "ED",
              shortName: "wpub",
              previousPublishDate: "2018-01-04",
  			  previousMaturity: "WD",
              edDraftURI: "https://w3c.github.io/wpub/",
              editors: [
                  {
      			      "name": "Matt Garrish",
                      "company": "DAISY Consortium",
                      "companyURL": "http://www.daisy.org",
                      "w3cid": 51655
                  },
                  {
                    "name": "Ivan Herman",
                    "url": "https://www.w3.org/People/Ivan/",
                    "company": "W3C",
					"w3cid": 7382,
					"orcid": "0000-0003-0782-2704",
                    "companyURL": "https://www.w3.org",
                  }
              ],
			  authors: [
			      {
                    "name": "Baldur Bjarnason",
                    "company": "The Rebus Foundation",
                    "companyURL": "https://reb.us/",
					"w3cid": 92101
                  },
			  	  {
                    "name": "Timothy W. Cole",
                    "url": "https://www.library.illinois.edu/people/bios/t-cole3/",
                    "company": "University of Illinois at Urbana-Champaign",
                    "companyURL": "https://illinois.edu",
					"w3cid": 53965,
					"orcid": "0000-0002-5906-4581"
                  },
			      {
                    "name": "Dave Cramer",
                    "company": "Hachette Livre",
                    "companyURL": "https://hachette.com/",
                    "w3cid": 65283
                  },
			      {
                    "name": "Hadrien Gardeur",
                    "company": "Feedbooks",
                    "companyURL": "https://www.feedbooks.com/",
                    "w3cid": 97094
                  },
			      {
                    "name": "Florian Rivoal",
                    "company": "Vivliostyle Inc.",
                    "companyURL": "https://vivliostyle.com/",
                    "w3cid": 43241
                  }
			  ],
              processVersion: 2018,
              includePermalinks: false,
              permalinkEdge:     true,
              permalinkHide:     false,
              diffTool:          "http://www.aptest.com/standards/htmldiff/htmldiff.pl",
              wgURI:             "https://www.w3.org/publishing/groups/publ-wg/",
              wgPublicList:      "public-publ-wg",
              wgPatentURI:       "https://www.w3.org/2004/01/pp-impl/100074/status",
			  github:			 {
				  repoURL: "https://github.com/w3c/wpub/",
				  branch: "master"
			  },
              localBiblio: biblio
          };
          // ]]>
      </script>
	</head>
	<body>
		<section id="abstract">
			<p>This specification defines a collection of information that describes the structure of Web Publications
				so that user agents can provide user experiences tailored to reading publications, such as sequential
				navigation and offline reading. This information includes the default reading order, a list of
				resources, and publication-wide metadata.</p>
		</section>
		<section id="sotd">
			<p>This draft provides a preliminary outline of a Web Publication. Many details are under active
				consideration within the Publishing Working Group and are subject to change. The most prominent known
				issues have been identified in this document and links provided to comment on them.</p>
		</section>
		<section id="intro">
			<h2>Introduction</h2>

			<section id="what-is-wp" class="informative">
				<h3>What is a Web Publication</h3>

				<p>A <a>Web Publication</a> is a discoverable and identifiable collection of resources. Information
					about the Web Publication is expressed in a machine-readable document called a <a>manifest</a>,
					which is what enables user agents to understand the bounds of the Web Publication and the connection
					between its resources.</p>

				<p>The manifest includes metadata that describe the Web Publication, as a publication has an identity
					and nature beyond its constituent resources. The manifest also provides a list of all the resources
					that belong to the Web Publication and a default reading order, which is how it connects resources
					into a single contiguous work.</p>

				<p>A Web Publication is discoverable in one of two ways: resources either include a link to the manifest
					(via an HTTP Link header or an HTML <code>link</code> element&#160;[[!html]]), or the manifest can
					be loaded directly by a compatible user agent.</p>

				<p>With the establishment of Web Publications, user agents can build new experiences tailored
					specifically for their unique reading needs.</p>

				<figure id="WP-diagram">
					<object data="images/WP-diagram.svg" type="image/svg+xml" aria-describedby="wp-diagram-alt">
						<p id="wp-diagram-alt">Flowchart depicts the resources of a Web Publication, their attachment to
							a manifest, and its relationship to the infoset.</p>
					</object>
					<figcaption>Simplified Diagram of the Structure of Web Publications. <br />A <a
							href="#WP-diagram-descr">description of the structure diagram</a> is available in the
						Appendix. Image available in <a href="images/WP-diagram.svg"
							title="SVG image of the structure of Web Publications">SVG</a> and <a
							title="PNG image of the structure of Web Publications" href="images/WP-diagram.png">PNG</a>
						formats.</figcaption>
				</figure>
			</section>

			<section id="scope" class="informative">
				<h3>Scope</h3>

				<p>This specification only defines requirements for the production and rendering of valid <a>Web
						Publications</a>. As much as possible, it leverages existing Open Web Platform technologies to
					achieve its goal—that being to allow for a measure of boundedness on the Web without changing the
					way that the Web itself operates.</p>

				<p>Moreover, the specification is designed to adapt automatically to updates to Open Web Platform
					technologies in order to ensure that Web Publications continue to interoperate seamlessly as the Web
					evolves (e.g., by referencing the latest published versions instead of specific dated versions).</p>

				<p>Further, this specification does not attempt to constrain the nature of a Web Publication: any type
					of work that can be represented on the Web constitutes a potential Web Publication.</p>

				<p>The specification is also intended to facilitate different user agent architectures for the
					consumption of Web Publications. While a primary goal is that traditional Web user agents (browsers)
					will be able to consume Web Publications, this should not limit the capabilities of any other
					possible type of user agent (e.g., applications, whether standalone or running within a user agent,
					or even Web Publications that include their own user interface). As a result, the specification does
					not attempt to architect required solutions for situations whose expected outcome will vary
					depending on the nature of the user agent and the expectations of the user (e.g., how to prompt to
					initiate a Web Publication, or at what point or how much of a Web Publication to cache for offline
					use).</p>
			</section>

			<section id="relationships">
				<h3>Relationship to Other Specifications</h3>

				<section id="rel-wam">
					<h4>Web App Manifest</h4>

					<p class="ednote">We may want to write something here on the relationships...</p>

				</section>
			</section>

			<section id="terminology">
				<h3>Terminology</h3>

				<p>This document uses terminology defined by the W3C Note "Publishing and Linking on the
					Web"&#160;[[!publishing-linking]], including, in particular, <a class="externalDFN"
						href="https://www.w3.org/TR/publishing-linking/#dfn-user">user</a>, <a class="externalDFN"
						href="https://www.w3.org/TR/publishing-linking/#dfn-user-agent">user agent</a>, <a
						class="externalDFN" href="https://www.w3.org/TR/publishing-linking/#dfn-browser">browser</a>,
					and <a class="externalDFN" href="https://www.w3.org/TR/publishing-linking/#dfn-address"
					>address</a>.</p>

				<dl>
					<dt><dfn data-lt="identifiers">Identifier</dfn></dt>
					<dd>
						<p>An identifier is metadata that can be used to refer to <a class="externalDFN"
								href="https://www.w3.org/TR/publishing-linking/#dfn-web-content">Web Content</a> in a
							persistent and unambiguous manner. <abbr title="Uniform Resource Locators">URLs</abbr>,
								<abbr title="Uniform Resource Names">URNs</abbr>, <abbr
								title="Digital Object Identifiers">DOIs</abbr>, <abbr
								title="International Standard Book Numbers">ISBNs</abbr>, and <abbr
								title="Persistent Uniform Resource Locators">PURLs</abbr> are all examples of persistent
							identifiers frequently used in publishing.</p>
					</dd>

					<dt><dfn data-lt="Manifests">Manifest</dfn></dt>
					<dd>
						<p>A manifest represents structured information about a <a>Web Publication</a>, such as
							informative metadata, a <a href="#wp-resource-list">list of all resources</a>, and a
								<a>default reading order</a>.</p>
					</dd>

					<dt><dfn>Non-empty</dfn></dt>
					<dd>
						<p>For the purposes of this specification, non-empty is used to refer to an element, attribute
							or property whose text content or value consists of one or more characters after whitespace
							normalization, where whitespace normalization rules are defined per the host format.</p>
					</dd>

					<dt><dfn data-lt="URLs">URL</dfn></dt>
					<dd>
						<p>The general term <abbr title="Uniform Resource Locator">URL</abbr> is defined by the URL
							Standard&#160;[[!url]]. It is used as in other <abbr title="World Wide Web Consortium"
								>W3C</abbr> specifications, like <abbr title="Hypertext Markup Language"
							>HTML</abbr>&#160;[[!html]]. In particular, a <abbr title="Uniform Resource Locator"
								>URL</abbr> allows for the usage of characters from Unicode following&#160;[[!rfc3987]].
							See <a href="https://www.w3.org/TR/html/references.html#biblio-url">the note in the HTML5
								specification</a> for further details.</p>
					</dd>

					<dt><dfn data-lt="Web Publications|Web Publication's">Web Publication</dfn></dt>
					<dd>
						<p>A Web Publication is a collection of one or more resources, organized together through a
								<a>manifest</a> into a single logical work with a <a>default reading order</a>. The Web
							Publication is uniquely identifiable and presentable using Open Web Platform
							technologies.</p>
					</dd>
				</dl>
			</section>
		</section>
		<section id="conformance">
			<section>
				<h2>Conformance Classes</h2>

				<p>This specification defines two conformance classes: one for <a>Web Publications</a> and one for user
					agents that process them.</p>

				<p id="wp-conformance">A Web Publication conforms to this specification if it meets the following
					criteria:</p>

				<ul>
					<li>it has a <a>manifest</a> that conforms to <a href="#manifest-req"></a>;</li>
					<li>it adheres to the construction requirements defined in <a href="#wp-construction"></a>.</li>
				</ul>

				<p id="ua-conformance">A user agent conforms to this specification if it meets the following
					criteria:</p>

				<ul>
					<li>it is capable of generating a conforming <a href="#infoset"><abbr title="information set"
								>infoset</abbr></a> for a Web Publication.</li>
				</ul>
			</section>
		</section>
		<section id="infoset">
			<h2>Information Set</h2>

			<p class="ednote">As the serialization of the manifest remains an open issue, specifics about how properties
				are compiled into the <abbr title="information set">infoset</abbr> remain under-specified. This
				includes, but is not limited to, what specific names the properties will have in the <abbr
					title="information set">infoset</abbr>, whether the names in the <a>manifest</a> will be the same as
				those in the <abbr title="information set">infoset</abbr> and/or whether mappings to properties from
				known vocabularies will be used.</p>

			<p class="issue" data-number="63">The name "<abbr title="information set">infoset</abbr>" might change
				depending on feedback. Although this term has a different meaning for individuals familiar with <abbr
					title="Extensible Markup Language">XML</abbr>, alternatives such as "properties" and "metadata" do
				not fully capture the nature or purpose of the collected information.</p>

			<section id="infoset-expl" class="informative">
				<h3>Explanation</h3>

				<p>A <a>Web Publication</a> is defined by a set of properties known as its <dfn data-lt="infoset"
						>information set</dfn> (<abbr title="information set">infoset</abbr>). The <abbr
						title="information set">infoset</abbr> is logically divided into two sets of properties: those
					that describe the publication and those that express key structures. These classifications only
					exist for the purposes of understanding the function of the properties, however.</p>

				<p>The <abbr title="information set">infoset</abbr> is both abstract and concrete. It is abstract in the
					sense that it represents a set of information that a user agent has to compile about the Web
					Publication, but it also becomes concrete when the user agent creates an internal representation of
					that information.</p>

				<p>The <abbr title="information set">infoset</abbr> is primarily compiled from a Web Publication's
						<a>manifest</a>, whose serialization requirements are defined in <a
						href="#manifest-serialization"></a>. Some information can be obtained outside the
					manifest—fallback rules for properties defined in the following subsections allow a user agent to
					compile information that the author has not provided in the manifest, for example.</p>
			</section>

			<section id="infoset-req">
				<h3>Requirements</h3>

				<p>The requirements for the expression of <abbr title="information set"><a>infoset</a></abbr> properties
					are as follows:</p>

				<dl>
					<dt>Descriptive Properties</dt>
					<dd>
						<p>REQUIRED: <a href="#wp-address">address</a></p>
						<div>
							<span>RECOMMENDED:</span>
							<ul class="flat">
								<li><a href="#wp-a11y">accessibility report</a></li>
								<li><a href="#wp-canonical-identifier">canonical identifier</a></li>
								<li><a href="#wp-creators">creator</a></li>
								<li><a href="#wp-language-and-dir">language and base direction</a></li>
								<li><a href="#wp-mod-date">last modification date</a></li>
								<li><a href="#wp-pub-date">publication date</a></li>
								<li><a href="#wp-reading-progression">reading progression direction</a></li>
								<li><a href="#wp-title">title</a></li>
							</ul>
						</div>
					</dd>
					<dt>Structural Properties</dt>
					<dd>
						<p>REQUIRED: <a href="#wp-default-reading-order">default reading order</a></p>
						<div>
							<span>RECOMMENDED:</span>
							<ul class="flat">
								<li><a href="#wp-resource-list">resource list</a></li>
								<li><a href="#wp-table-of-contents">table of contents</a></li>
								<li><a href="#wp-cover">cover</a></li>
								<li><a href="#wp-privacy">privacy policy</a></li>
							</ul>
						</div>
					</dd>
				</dl>

				<p class="ednote">These requirements reflect the current minimum consensus, though a number of issues
					remain open that could change whether an item is required or recommended. Refer to the property
					descriptions for more information.</p>

			</section>

			<section id="infoset-meta">
				<h3>Descriptive Properties</h3>

				<section id="wp-a11y">
					<h4>Accessibility Report</h4>

					<p>An accessibility report provides information about the suitability of a <a>Web Publication</a>
						for consumption by users with varying preferred reading modalities. These reports typically
						identify the result of an evaluation against established accessibility criteria, such as those
						provided in [[WCAG20]], and are an important source of information in determining the usability
						of a Web Publication.</p>

					<p>The <abbr title="information set"><a>infoset</a></abbr> SHOULD include a link to an accessibility
						report when one is available for a Web Publication. It is RECOMMENDED that the report be
						included as a resource of the Web Publication.</p>

					<p>It is also RECOMMENDED that the accessibility report be provided in a human-readable format, such
						as <abbr title="Hypertext Markup Language">HTML</abbr>&#160;[[!html]]. Augmenting these reports
						with machine-processable metadata, such as provided in Schema.org[[!schema.org]], is also
						RECOMMENDED.</p>

					<p class="ednote">Machine-readable accessibility metadata may be recommended in whatever format is
						used to externalize publication metadata (e.g., to ensure availability for search). Depending
						how this externalizing is done, adding machine-processable accessibility metadata to such a
						record could take precedence over, or complement, the accessibility record.</p>
				</section>

				<section id="wp-address">
					<h4>Address</h4>

					<p>A <a>Web Publication's</a>
						<dfn>address</dfn> is a <abbr title="Uniform Resource Locator">URL</abbr>&#160;[[!url]] that
						represents the primary entry page for the Web Publication. If this URL does not resolve to an
							<abbr title="Hypertext Markup Language">HTML</abbr> document&#160;[[!html]], user agents
						SHOULD NOT provide access to it to users.</p>

					<p>The referenced document SHOULD be a resource of the Web Publication. It can be any resource,
						including one that is not listed in the <a>default reading order</a>. This document MUST include
						a <a href="#wp-linking">link to the manifest</a> to ensure a bidirectional linking relationship
						(i.e., that user agents can also locate the manifest from the document at the address.</p>

					<p>If the document is not a Web Publication resource, user agents SHOULD load the first document in
						the <a>default reading order</a> when initiating the Web Publication.</p>

					<p class="note">To improve the usability of Web Publications, particularly in user agents that do
						not support Web Publications, include navigation aids in the referenced document that facilitate
						consumption of the content, (e.g., provide a table of contents or a link to one).</p>

					<p>The availability of the address does not preclude the creation and use of other identifiers
						and/or addresses to retrieve a <a>Web Publication</a>, whether in whole or in part.</p>

					<div class="note">The Web Publication's address can also be used as value for an identifier link
						relation&#160;[[link-relation]].</div>

				</section>

				<section id="wp-canonical-identifier">
					<h4>Canonical Identifier</h4>

					<p>A <a>Web Publication's</a>
						<dfn>canonical identifier</dfn> is a unique identifier that resolves to the preferred version of
						the Web Publication. The canonical identifier MUST be an <a>address</a> or a value that allows a
						one-to-one mapping to an address (e.g., a <abbr title="Digital Object Identifier"
						>DOI</abbr>&#160;[[doi]] can be resolved to a <abbr title="Uniform Resource Locator"
						>URL</abbr>&#160;[[url]] via a <abbr title="Digital Object Identifier">DOI</abbr> resolver). If
						a user agent cannot resolve the canonical identifier to an address, it SHOULD ignore the
						property.</p>

					<p>If a Web Publication is hosted at more than one address, the canonical identifier allows a user
						agent to identify the shared relationship between the versions and to determine which of the
						available addresses is primary.</p>

					<p>The canonical identifier is also intended to provide a measure of permanence above and beyond the
						Web Publication's <a>address</a>. Even if a Web Publication is permanently relocated to a new
						address, for example, the canonical identifier will provide a way of locating the new location
						(e.g., a <abbr title="Digital Object Identifier">DOI</abbr> registry could be updated with the
						new <abbr title="Uniform Resource Locator">URL</abbr>, or a redirect could be added to the <abbr
							title="Uniform Resource Locator">URL</abbr> of the canonical identifier).</p>

					<p>When assigned, the canonical identifier needs to be unique to one and only one Web Publication,
						independent of its address(es). Ensuring uniqueness is outside the scope of this specification,
						however. The actual uniqueness achievable depends on such factors as the conventions of the
						identifier scheme used and the degree of control over assignment of identifiers.</p>

					<p class="note">If the canonical identifier is a <abbr title="Uniform Resource Locator">URL</abbr>,
						it can be used as the target of a "canonical" link&#160;[[rfc6596]] (e.g., a <code>link</code>
						element&#160;[[html]] whose <code>rel</code> attribute has the value <code>canonical</code> or
						an <abbr title="Hypertext Transfer Protocol">HTTP</abbr>
						<code>Link</code> header field&#160;[[rfc5988]] similarly identified).</p>

					<p class="issue" data-number="58">Is a canonical identifier necessary to call out explicitly in the
							<abbr title="information set">infoset</abbr>, or can it be handled by other metadata.</p>
				</section>

				<section id="wp-creators">
					<h4>Creators</h4>

					<p>Creators are the individuals or entities responsible for the creation of the <a>Web
							Publication</a>.</p>

					<p>The creator property SHOULD include the role the creator played in the creation of the Web
						Publication (e.g., 'author', 'illustrator', 'translator').</p>
				</section>

				<section id="wp-language-and-dir">
					<h4>Language and Base Direction</h4>

					<p>Each textual property in the <a>Web Publication's</a>
						<abbr title="information set"><a>infoset</a></abbr> (e.g., <a href="#wp-title">title</a>, <a
							href="#wp-creator">creators</a>) is <a
							href="https://w3c.github.io/string-meta/#dom-localizable"
						>Localizable</a>&#160;[[string-meta]]. This means it is possible to assign:</p>

					<ul>
						<li>the natural <dfn>language</dfn>, which MUST be a tag that conforms to&#160;[[!bcp47]];</li>
						<li>the <dfn>base direction</dfn>, which identifies the display direction for the property using
							one of the following possible values: <ul>
								<li><code>ltr</code>: left-to-right;</li>
								<li><code>rtl</code>: right-to-left;</li>
								<li><code>auto</code>: direction is determined from the value of the property.</li>
							</ul>
						</li>
					</ul>

					<p>The Web Publication's <abbr title="information set">infoset</abbr> MAY contain global language
						and the base direction declarations using the same conventions (i.e., [[!bcp47]] tags for
						language, and the values <code>ltr</code>/<code>rtl</code>/<code>auto</code> for base
						direction). These are used as defaults for textual properties in the <abbr
							title="information set">infoset</abbr>, unless overwritten by the properties themselves.</p>

					<p class="note">These features make it possible to add the title of a publication in different
						languages, or repeat the creators’ names using different scripts.</p>

					<p>User agents MUST NOT use the language and base direction outside the context of the manifest
						(e.g., in the processing or rendering of the Web Publication content). These values are
							<strong>not</strong> a replacement for such declarations in each resource as defined by its
						format.</p>

					<p>If a user agent requires the language and one is not available in the <abbr
							title="information set">infoset</abbr> (globally or specifically for the property), or the
						obtained value is invalid, the user agent MAY attempt to determine the language. This
						specification does not mandate how such a language tag is created. The user agent might:</p>

					<ul>
						<li>use the <a>non-empty</a> language declaration of the manifest;</li>
						<li>use the first non-empty language declaration found in a resource in the <a>default reading
								order</a>;</li>
						<li>calculate the language using its own algorithm.</li>
					</ul>

					<p>If a language tag cannot be determined, user agents MUST use the value "<code>und</code>"
						(undetermined). If the base direction cannot be determined, user agents MUST assume the value
							<code>auto</code>.</p>

				</section>

				<section id="wp-mod-date">
					<h4>Last Modification Date</h4>

					<p>The <dfn>last modification date</dfn> is the date when the <a>Web Publication</a> was last
						updated (i.e., whenever changes were last made to any of the resources of the Web Publication,
						including the <a>manifest</a>).</p>

					<p>This date does not necessarily reflect all changes to the Web Publication (e.g., third-party
						content could change without the author being aware). User agents SHOULD check the last
						modification date of individual resources to determine if they have changed and need
						updating.</p>
				</section>

				<section id="wp-pub-date">
					<h4>Publication Date</h4>

					<p>The <dfn>publication date</dfn> is the date on which the <a>Web Publication</a> was originally
						published. It represents a static event in the lifecycle of a Web Publication and allows
						subsequent revisions to be identified and compared.</p>

					<p>The exact moment of publication is intentionally left open to interpretation: it could be when
						the Web Publication is first made available online or could be a point in time before
						publication when the Web Publication is considered final.</p>
				</section>

				<section id="wp-reading-progression">
					<h4>Reading Progression Direction</h4>

					<p>The <dfn data-lt="reading progression direction">reading progression</dfn> establishes the
						reading direction from one resource to the next within a <a>Web Publication</a>. The value of
						this property may be:</p>

					<ul>
						<li><code>ltr</code>: left-to-right;</li>
						<li><code>rtl</code>: right-to-left;</li>
						<li><code>auto</code>: the user agent chooses the direction.</li>
					</ul>

					<p>The default value is <code>auto</code>.</p>

					<p>This information item has <em>no effect</em> on the rendering of the individual primary
						resources; it is only relevant for the progression direction from one resource to the other.</p>

					<p class="note">The reading progression of a <a>Web Publication</a> is used to adapt such
						publication level interactions as menu position, swap direction, defining tap zones to lead the
						user to the next and previous pages, touch gestures, etc.</p>


				</section>

				<section id="wp-title">
					<h4>Title</h4>

					<p>The title provides the human-readable name of the <a>Web Publication</a>.</p>

					<p>When specified in the <abbr title="information set"><a>infoset</a></abbr>, the title MUST be
							<a>non-empty</a>.</p>

					<p>If a user agent requires a title and one is not available in the <abbr title="information set"
							>infoset</abbr>, the user agent MAY create one. This specification does not mandate how such
						a title is created. The user agent might:</p>

					<ul>
						<li>use the first <a>non-empty</a>
							<code>title</code> element found in a resource in the <a>default reading order</a>;</li>
						<li>provide a language-specific placeholder title (e.g., 'Untitled Publication');</li>
						<li>use the <abbr title="Uniform Resource Locator">URL</abbr> of the manifest;</li>
						<li>calculate a title using its own algorithm.</li>
					</ul>

					<div class="note">
						<p>A user agent is not expected to produce a <a
								href="https://www.w3.org/TR/WCAG20/#navigation-mechanisms-title">meaningful
							title</a>&#160;[[wcag20]] for a Web Publication when one is not specified.</p>
					</div>
				</section>
			</section>

			<section id="infoset-structure">
				<h3>Structural Properties</h3>

				<section id="wp-default-reading-order">
					<h4>Default Reading Order</h4>

					<p>The <dfn>default reading order</dfn> is a specific progression through a set of <a>Web
							Publication</a> resources.</p>

					<p>A user might follow alternative pathways through the content, but in the absence of such
						interaction the default reading order defines the expected progression from one resource to the
						next.</p>

					<p>The default reading order MUST include at least one resource.</p>

					<p>The default reading order is specified directly in the manifest. If the reading order consists of
						one single resource, namely the primary entry page of the Web Publication (i.e., the resource
						the user accesses to reach the manifest, see <a href="#wp-linking"></a>), the default reading
						order need not be specified in the manifest.</p>
				</section>

				<section id="wp-resource-list">
					<h4>Resource List</h4>

					<p>The <dfn>resource list</dfn> enumerates all <a href="#wp-resources">resources</a> that are used
						in the processing and rendering of a <a>Web Publication</a> (i.e., that are within its bounds)
						and that are not listed in the <a>default reading order</a>. This list is the definitive source
						that user agents have in determining which referenced resources belong to the Web Publication
						and which are external to it.</p>

					<p>The completeness of the resource list will affect the usability of the Web Publication in certain
						reading scenarios (e.g., the ability to read the Web Publication offline). For this reason, it
						is strongly RECOMMENDED to provide a comprehensive list of all of the Web Publication's
						constituent resources beyond those listed in the <a>default reading order</a>.</p>

					<p>In some cases, a comprehensive list of these resources might not be easily achieved (e.g.,
						third-party scripts that reference resources from deep within their source), but a user agent
						SHOULD still be able to render a Web Publication even if some of these resources are not
						identified as belonging to the Web Publication (e.g., when it is taken offline without
						them).</p>

					<div class="ednote"> The previous version of the draft included: <blockquote>
							<p>If a user agent encounters a resource that it cannot locate in the resource list, it MUST
								treat the resource as external to the Web Publication (e.g., it might alert the user
								before loading, open the resource in a new window, or unload the current Web Publication
								and resume normal Web browsing).</p>
						</blockquote>
						<p>This was not decided on the Toronto F2F, and is still open.</p>
					</div>
				</section>
				<section id="wp-extra-list">
					<h4>List of extra resources</h4>

					<p>
						The <dfn>list of extra resources</dfn> enumerates all 
						<a href="#wp-resources">resources</a> that are used in the processing and rendering of a <a>Web Publication</a> but are <em>not</em> within its bounds (i.e., are not listed  in the <a>default reading order</a> or the <a>resource list</a>) but are, rather, external to the Web Publication.
					</p>

					<p>The completeness of the resource list will affect the usability of the Web Publication in certain
					    scenarios (e.g., the ability to access privacy policy information). For this reason, it
						is strongly RECOMMENDED to provide a comprehensive list of all of the Web Publication's
						external resources beyond those listed in the <a>default reading order</a> or <a>resource list</a>.</p>

					<p>In some cases, a comprehensive list of these resources might not be easily achieved (e.g.,
						third-party scripts that reference resources from deep within their source), but a user agent
						SHOULD still be able to render a Web Publication even if some of these resources are not
						identified as belonging to the Web Publication (e.g., when it is taken offline without
						them).</p>

					<p class=issue data-number=225></p>

				</section>

				<section id="wp-table-of-contents">
					<h4>Table of Contents</h4>

					<p>The <dfn>table of contents</dfn> is a hierarchical list of links that reflects the structural
						outline of the major sections of the Web Publication. There are no requirements on the
						completeness of the table of contents, except that, when specified, it MUST include a link to at
						least one <a href="#wp-resources">resource</a>.</p>

					<p> The table of contents is not specified directly in the manifest. Instead, the manifest SHOULD
						provide a link to an HTML element in one of the <a href="#wp-resources">resources</a> (most
						likely a <code>nav</code> element&#160;[[!html]]), with a <code>role</code> attribute value set
						to <code>doc-toc</code>. </p>

					<p class="issue">This question arises only if the table of contents is accepted: can a table of
						contents navigation element refer, via links, to any resource that is <em>not</em> listed in the
							<a>default reading order</a>?</p>
				</section>

				<section id="wp-cover">
					<h4>Cover</h4>

					<p>The <abbr title="information set"><a>infoset</a></abbr> SHOULD include a reference to a cover
						image. This image can be used by user agents to present the <a>Web Publication</a> to users
						(e.g., in a library or bookshelf, or when initially loading the Web Publication).</p>

					<p>User agents SHOULD NOT use the cover image as the sole means of selecting or accessing Web
						Publications. A user agent SHOULD use the Web Publication's <a href="#wp-title">title</a> and <a
							href="#wp-creators">creators</a> as text alternatives for such interfaces.</p>

					<p>More than one cover image MAY be referenced from the infoset to provide alternative sizes and
						resolutions for different device screens.</p>

					<p>A user agent MAY create a cover for a Web Publication if one is not present. This specification
						does not define requirements for the creation of such cover images (e.g., the user agent could
						use a placeholder image, generate an image dynamically, or incorporate properties of the infoset
						into a graphic, such as the title or creators).</p>

					<p class="issue" data-number="210"></p>
				</section>

				<section id="wp-privacy">
					<h4>Privacy Policy</h4>

					<p>Users often have the legal right to know and control what information is collected about them,
						how such information is stored and for how long, whether it is personally identifiable, and how
						it can be expunged. Including a statement that addresses all such privacy concerns is
						consequently an important part of publishing <a>Web Publications</a>. Even if no information is
						collected, such a declaration increases the trust users have in the content.</p>

					<p>To address this concern, a link to a privacy policy can be included in the <abbr
							title="information set"><a>infoset</a></abbr>. It is RECOMMENDED that the privacy policy be
						included as a resource of the Web Publication.</p>

					<p>It is RECOMMENDED that the privacy policy be provided in a human-readable format, such as <abbr
							title="Hypertext Markup Language">HTML</abbr>&#160;[[!html]].</p>

					<p>Refer to <a href="#privacy"></a> for more information about privacy considerations in Web
						Publications.</p>

					<p class="issue" data-number="203"></p>

				</section>

			</section>

			<section id="wp-extensibility">
				<h3>Extensibility</h3>

				<p>The <abbr title="information set"><a>infoset</a></abbr> is designed to provide a basic set of
					properties for use by user agents in presenting and rendering a <a>Web Publication</a>, but MAY be
					extended in the following ways:</p>

				<ol>
					<li>through the inclusion of additional properties in the manifest;</li>
					<li>by the provision of linked metadata records.</li>
				</ol>

				<p>User Agents MAY support additional properties but MUST NOT include unrecognized properties in the
						<abbr title="information set">infoset</abbr>. The use of linked records is RECOMMENDED whenever
					possible, as the use of native formats standardizes and simplifies processing by user agents.</p>
			</section>
		</section>
		<section id="manifest">
			<h2>Web Publication Manifest</h2>

			<section id="manifest-intro">
				<h3>Overview</h3>

				<p> A <a>manifest</a> is a serialization of a <a>Web Publication's</a>
					<abbr title="information set"><a>infoset</a></abbr>. The manifest is serialized using the
					JSON&#160;[[!ecma-404]], more specifically the JSON-LD&#160;[[!json-ld]] format. The manifest can be
					a separate JSON-LD file, or it can be part of an HTML resource using the <a
						href="https://www.w3.org/TR/html5/semantics-scripting.html#the-script-element"
							><code>script</code> element</a> in HTML&#160;[[!html]]. If the latter, the
						<code>type</code> attribute of the <code>script</code> element MUST be set to
						<code>application/ld+json</code>. </p>

				<pre class="example" title="A Web Publication Manifest included in an HTML resource">
	&lt;script id="example_manifest" type="application/ld+json"&gt;
	{
    ...
	}
	&lt;/script&gt;
</pre>

				<section>
					<h4>Descriptive Infoset Properties</h4>

					<p>
						<a href="infoset-meta">Desciptive Properties</a> in the Web Publication Manifest are based,
						wherever possible, on the terms defined by <a href="https://schema.org"
						>Schema.org</a>&#160;[[!schema.org]] (including <a href="http://schema.org/docs/schemas.html"
							>hosted extensions</a> of Schema.org). This means that the descriptive infoset properties
						are mapped to one or several Schema.org properties (inheriting their syntax and semantics). </p>

					<p class="note"> Schema.org includes a large number of terms that, though relevant for publishing,
						are not mentioned in this Recommendation. Web Publication authors may use any of those; this
						document defines only the minimal set of infoset items, and their mapping to Schema.org when
						appropriate. </p>

					<p class="ednote"> There are discussion on whether a best practices document would be created,
						referring to more schema.org terms. If so, it should be linked from here. </p>
				</section>


				<section>
					<h4>Structural Infoset Properties</h4>

					<p>
						<a href="infoset-structure">Structural Properties</a> in the Web Publication Manifest use terms
						that refer to one or more external resources (images, script files, separate metadata files,
						etc.). These terms do not necessarily have a counterpart in Schema.org, and are therefore
						defined separately by this specification. </p>

					<p> Values of structural properties are usually links to external resources, or an array thereof.
						Such a link may be expressed in one of two ways: </p>

					<ol>
						<li>a string encoding the (absolute or relative) URL of the resources; or</li>
						<li>an instance of a Schema.org <a href="http://schema.org/StructuredValue"
									><code>StructuredValue</code></a> that can be used to express, beyond the URL, the
							media type and other characteristics of the target resource.</li>
					</ol>

					<pre class="example" title="Expressing external links, either as strings or as objects">
	{
        ...
        "resources" : [
            "datatypes.svg",
            {
                "@type"      : "StructuredValue",
                "url"        : "test-utf8.csv",
                "fileFormat" : "text/csv"
            }
		]
	}
</pre>

					<p class="note"> There will be continuous contacts with Schema.org to see whether some of the
						structural property terms should not be included in the core Schema.org hierarchy, or one of its
						extensions. </p>
				</section>

				<section id="wpub-context">
					<h4>Web Publication Manifest Contexts</h4>

					<p> A Web Publication Manifest MUST start by setting the appropriate (JSON-LD) contexts. This
						context has two major components: </p>
					<ul>
						<li>the “core” Schema.org context, i.e., <code>http://schema.org</code>;</li>
						<li>the separate, WP-specific context file: <code>https://www.w3.org/ns/wpub.jsonld</code></li>
					</ul>

					<p> Note that the latter may also add some features to terms defined in Schema.org. </p>

					<div class="note">
						<p> An example for the latter is the requirement for the <a href="https://schema.org/creator"
								>creator</a> term to be order preserving. </p>
						<p> As part of the continuous contacts with Schema.org the additional requirements defined in
							the WP specific context file may migrate to the core Schema.org. </p>
					</div>

					<p> In practice, this means that a Web Publication Manifest MUST begin with, at the minimum: </p>

					<pre class="example">
{
    "@context" : ["http://schema.org", "https://www.w3.org/ns/wpub.jsonld"],
    ...
}
</pre>

					<p> In some cases, this structure may have to be extended by additional, local information, see the
							<a href="#manifest-language-and-dir"></a>. </p>
				</section>
				<section>
					<h4>Publication Types</h4>
					<p> The manifest MUST also include a <dfn>Publication Type</dfn>. This MAY be mapped onto the
						Schema.org <a href="http://schema.org/CreativeWork"><code>CreativeWork</code></a> type, using
						the <code>@type</code> of JSON-LD&#160;[[json-ld]]. Schema.org also includes a number of more
						specific types (see the <a href="http://schema.org/CreativeWork">list</a> on the Schema.org
						site) which include a type for <a href="http://schema.org/Article">Article</a>, <a
							href="http://schema.org/Book">Book</a>, or <a href="http://schema.org/Course">Course</a>;
						these may MAY also be used instead of <code>CreativeWork</code>. </p>
					<pre class="example" title="Setting type of the publication to be a Book">
{
    "@context" : ["http://schema.org", "https://www.w3.org/ns/wpub.jsonld"],
    "@type"    : "Book"
    ...
}
</pre>

				</section>
			</section>

			<section>
				<h3>Specification of Web Publication Manifest Items</h3>

				<section>
					<h4>Descriptive Infoset Properties</h4>
					<section id="wp-a11y-wpm">
						<h4>Accessibility</h4>

						<p class="issue" data-number="216"></p>

						<p> As defined in <a href="#wp-a11y"></a>, the Web Publication Manifest MAY include accessibility
							metadata. These SHOULD be mapped on the family of accessibility terms, as expressed by
							Schema.org. (A more detailed description of these terms, as well as the possible values, are
							described on the <a href="http://www.w3.org/wiki/WebSchemas/Accessibility">WebSchemas Wiki
								site</a>.) These terms are: </p>

						<table class="zebra">
							<thead>
								<tr>
									<th> Term name with link to definition </th>
									<th> Short description </th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<a href="http://meta.schema.org/accessMode"><code>accessMode</code></a>
									</td>
									<td> The human sensory perceptual system or cognitive faculty through which a person
										may process or perceive information. </td>
								</tr>
								<tr>
									<td>
										<a href="http://meta.schema.org/accessModeSufficient"
												><code>accessModeSufficient</code></a>
									</td>
									<td> A list of single or combined accessModes that are sufficient to understand all
										the intellectual content of a resource. </td>
								</tr>
								<tr>
									<td>
										<a href="http://schema.org/accessibilityAPI"><code>accessibilityAPI</code></a>
									</td>
									<td> Indicates that the resource is compatible with the referenced accessibility
										API. </td>
								</tr>
								<tr>
									<td>
										<a href="http://meta.schema.org/accessibilityControl"
												><code>accessibilityControl</code></a>
									</td>
									<td> Identifies input methods that are sufficient to fully control the described
										resource. </td>
								</tr>
								<tr>
									<td>
										<a href="http://meta.schema.org/accessibilityFeature"
												><code>accessibilityFeature</code></a>
									</td>
									<td> Content features of the resource, such as accessible media, alternatives and
										supported enhancements for accessibility. </td>
								</tr>
								<tr>
									<td>
										<a href="http://meta.schema.org/accessibilityHazard"
												><code>accessibilityHazard</code></a>
									</td>
									<td> A characteristic of the described resource that is physiologically dangerous to
										some users. </td>
								</tr>
								<tr>
									<td>
										<a href="http://meta.schema.org/accessibilitySummary"
												><code>accessibilitySummary</code></a>
									</td>
									<td> A human-readable summary of specific accessibility features or deficiencies,
										consistent with the other accessibility metadata but expressing subtleties such
										as “short descriptions are present but long descriptions will be needed for
										non-visual users” or “short descriptions are present and no long descriptions
										are needed.” </td>
								</tr>
							</tbody>
						</table>

						<p>Note that the author MAY also provide a reference to a more detailed <a href="#wp-a11y-report-wpm">Accessibility Report</a>, beyond the accessibility information expressed by these terms.</p>

						<pre class="example" title="Example for accessiblity metadata of a purely textual document">
{
    "@context" : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"    : "CreativeWork",
    ...
    "accessMode"            : ["textual", "visual"],
    "accessModeSufficient"  : ["textual"],
    ...
}
</pre>

					</section>
					<section>
						<h4>Address</h4>
						<p> As described in <a href="#wp-address"></a>, a <a>Web Publication's</a>
							<a>address</a> is a <abbr title="Uniform Resource Locator">URL</abbr>&#160;[[!url]] that
							represents the primary entry page for the Web Publication. This infoset item MUST be mapped
							on the <a href="http://schema.org/url"><code>url</code></a> term. </p>

						<table class="zebra">
							<thead>
								<tr>
									<th> Term name with link to definition </th>
									<th> Short description </th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<a href="http://schema.org/url"><code>url</code></a>
									</td>
									<td> URL of the primary entry page. </td>
								</tr>
							</tbody>
						</table>

						<pre class="example" title="Example for setting the address of the main entry point">
{
    "@context" : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"    : "Book",
    ...
    "url"      : "https://publisher.example.org/mobydick",
    ...
}
</pre>
					</section>
					<section id="wp-canonical-identifier-wpm">
						<h4>Canonical Identifier</h4>
						<p> As described in <a href="#wp-canonical-identifier"></a>, a <a>Web Publication's</a>
							<a>canonical identifier</a> is a unique identifier that resolves to the preferred version of
							the Web Publication. This infoset item MUST be mapped on the <a href="http://schema.org/id"
									><code>id</code></a> term, whose value is a URL. </p>

						<p> Additionally, the term <a href="http://schema.org/identifier"><code>itentifier</code></a>
							MAY also be used; in Schema.org, the value of this term can be a URL, a textual information
							that represents a unique identification, or more complex objects defined in Schema.org.
							There are also sub-properties that can be used on their own right, like <a
								href="http://schema.org/isbn"><code>isbn</code></a>, <a href="http://schema.org/issn"
									><code>issn</code></a>, or <a href="http://schema.org/serialNumber"
									><code>serialNumber</code></a>. See also the Schema.org description for further
							details. </p>

						<p class="ednote"> Not clear how one would describe the relationships between these two... </p>

						<table class="zebra">
							<thead>
								<tr>
									<th> Term name with link to definition </th>
									<th> Short description </th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<a href="http://schema.org/id"><code>id</code></a>
									</td>
									<td> Preferred version of the Web Publication. </td>
								</tr>
							</tbody>
						</table>

						<pre class="example" title="Example for setting both the canonical identifier as URL and the address of the same document">
{
    "@context" : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"    : "CreativeWork",
    ...
    "id"       : "http://www.w3.org/TR/tabular-data-model/",
    "url"      : "http://www.w3.org/TR/2015/REC-tabular-data-model-20151217/",
    ...
}
</pre>

						<pre class="example" title="Example for setting both the ISBN and the address of the same document">
{
    "@context" : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"    : "Book",
    ...
    "isbn"     : "1234567890123",
    "url"      : "https://publisher.example.org/mobydick",
    ...
}
</pre>

					</section>
					<section id="wp-creators-wpm">
						<h4>Creator</h4>
						<p> As described in <a href="#wp-creators"></a>, a <a>Web Publication's</a> creators are the
							individuals or entities responsible for the creation of the <a>Web Publication</a>. There
							isn’t one specific single Schema.org term this item must be mapped onto; instead, there are a number
							of terms and, if this Infoset Item is used, the Web Publication Manifest SHOULD use one of
							those. The value of these terms are one or more <a href="http://schema.org/Person"
									><code>Person</code></a> objects or, in some cases, <a
								href="http://schema.org/Person"><code>Person</code></a> or an <a
								href="http://schema.org/Organization"><code><code>Organization</code></code></a> items.
							These terms are: </p>

						<table class="zebra">
							<thead>
								<tr>
									<th> Term name with link to definition </th>
									<th> Short description </th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<a href="https://schema.org/author"><code>author</code></a>
									</td>
									<td> The author of this content. The value can be on or more <a
											href="http://schema.org/Person"><code>Person</code></a> or <a
											href="http://schema.org/Organization"><code>Organization</code></a>. </td>
								</tr>
								<tr>
									<td>
										<a href="https://schema.org/creator"><code>creator</code></a>
									</td>
									<td> The creator of this content. The value can be on or more <a
											href="http://schema.org/Person"><code>Person</code></a> or <a
											href="http://schema.org/Organization"><code>Organization</code></a>. </td>
								</tr>
								<tr>
									<td>
										<a href="https://schema.org/editor">editor</a>
									</td>
									<td> The editor of this content. The value can be on or more <a
											href="http://schema.org/Person"><code>Person</code></a>. </td>
								</tr>
								<tr>
									<td>
										<a href="https://schema.org/publisher"><code>publisher</code></a>
									</td>
									<td> The publisher of the creative work. The value can be on or more <a
											href="http://schema.org/Person"><code>Person</code></a> or <a
											href="http://schema.org/Organization"><code>Organization</code></a>. </td>
								</tr>
								<tr>
									<td>
										<a href="https://schema.org/illustrator"><code>illustrator</code></a>
									</td>
									<td> The illustrator of a publication. The value can be on or more <a
											href="http://schema.org/Person"><code>Person</code></a>. </td>
								</tr>
								<tr>
									<td>
										<a href="https://bib.schema.org/translator"><code>translator</code></a>
									</td>
									<td> The illustrator of a publication. The value can be on or more <a
											href="http://schema.org/Person"><code>Person</code></a> or <a
											href="http://schema.org/Organization"><code>Organization</code></a>. </td>
								</tr>
								<tr>
									<td>
										<a href="https://bib.schema.org/readBy"><code>readBy</code></a>
									</td>
									<td> A person who reads (performs) the audiobook. The value can be on or more <a
											href="http://schema.org/Person"><code>Person</code></a>. </td>
								</tr>

								<tr>
									<td>
										<a href="https://bib.schema.org/artist"><code>artist</code></a>
									</td>
									<td> The primary artist for a work in a medium other than pencils or digital line
										art. The value can be on or more <a href="http://schema.org/Person"
												><code>Person</code></a>. </td>
								</tr>
								<tr>
									<td>
										<a href="https://bib.schema.org/colorist"><code>colorist</code></a>
									</td>
									<td> The individual who adds color to inked drawings. The value can be on or more <a
											href="http://schema.org/Person"><code>Person</code></a>. </td>
								</tr>
								<tr>
									<td>
										<a href="https://bib.schema.org/letterer"><code>letterer</code></a>
									</td>
									<td> The individual who adds lettering, including speech balloons and sound effects,
										to artwork. The value can be on or more <a href="http://schema.org/Person"
												><code>Person</code></a>. </td>
								</tr>
								<tr>
									<td>
										<a href="https://bib.schema.org/penciler"><code>penciler</code></a>
									</td>
									<td> The individual who draws the primary narrative artwork.. The value can be on or
										more <a href="http://schema.org/Person"><code>Person</code></a>. </td>
								</tr>
							</tbody>
						</table>

						<pre class="example" title="Author of a book">
{
    "@context" : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"    : "Book",
    ...
    "url"      : "https://publisher.example.org/mobydick",
    "author"   : {
        "@type" : "Person",
        "name"  : "Herman Melville"
    }
}
</pre>
						<pre class="example" title="Separate listing of editors, authors, and publisher">
{
    "@context"   : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"      : "CreativeWork",
    ...
    "identifier" : "http://www.w3.org/TR/tabular-data-model/",
    "url"        : "http://www.w3.org/TR/2015/REC-tabular-data-model-20151217/",
    "author"     : [{
        "@type" : "Person",
        "name" : "Jeni Tennison",
    },{
        "@type" : "Person",
        "name" : "Gregg Kellogg",
    },{
        "@type" : "Person",
        "name" : "Ivan Herman",
        "url"  : "https://www.w3.org/People/Ivan/"
    }],
    "editor"    : [{
        "@type" : "Person",
        "name" : "Jeni Tennison",
    },{
        "@type" : "Person",
        "name" : "Gregg Kellogg",
    }],
    "publisher" : {
        "@type" : "Organization",
        "name" : "World Wide Web Consortium",
        "url"  : "https://www.w3.org/"
    }
    ...
}
</pre>
						<p class="issue" data-number="217"></p>
					</section>

					<section id="wp-language-and-dir-wpm">
						<h4>Language and Base Direction</h4>
						<p> As described in <a href="#wp-language-and-dir"></a> this infoset item refers to several
							aspects of setting language and direction; these are treated separately. </p>
						<section id="manifest-language-and-dir">
							<h5>Default language and direction</h5>
							<p> The infoset described in <a href="#wp-language-and-dir"></a> requires the possibility to
								set a <em>default</em> language and base direction for all textual information in the
								manifest. These MUST be set by <em>extending</em> the context of the manifest to include
								the right features. </p>
							<p> To set the language, the context information must be <em>extended</em> by the <a
									href="https://www.w3.org/TR/2014/REC-json-ld-20140116/#string-internationalization"
										><code>@language</code> term</a> of JSON-LD[[!json-ld]]: </p>

							<pre class="example" title="Setting the default metadata language to French">
{
    "@context"   : [
        "http://schema.org",
        "https://www.w3.org/ns/wpub.jsonld",
        {
            "@language" : "fr"
        }
    ],
    ...
}
</pre>

							<p>The value of the language tag must be set to the language code as defined in [[!bcp47]].
								If not set, the default value is <code>en</code>.</p>

							<p class="issue" data-number="218"></p>
						</section>
						<section>
							<h5>Item specific language and direction</h5>
							<p> The infoset described in <a href="#wp-language-and-dir"></a> also requires the
								possibility to set the language and base direction for any textual information in the
								manifest. This MUST be set for each item separately, also using the <a
									href="https://www.w3.org/TR/2014/REC-json-ld-20140116/#string-internationalization"
										><code>@value</code> and <code>@language</code> terms</a> of
								JSON-LD[[!json-ld]]: </p>
							<pre class="example" title="Setting the default metadata language to French">
{
    "@context" : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"    : "Book",
    ...
    "author" : {
        "@type" : "Person",
        "name" : {
            "@value" : "Marcel Proust",
            "@language" : "fr"
        }
    }
}
</pre>
							<p>The value of the language tag must be set to the language code as defined in [[!bcp47]].
								If not set, the default value is the <a href="#manifest-language-and-dir">default value
									of the manifest</a>.</p>

							<p class="issue" data-number="219"></p>
						</section>
						<p class="issue" data-number="220"></p>
					</section>
					<section id="wp-mod-date-wpm">
						<h4>Last Modification Date</h4>

						<p> As described in <a href="#wp-mod-date"></a>, the <a>last modification date</a> is the date
							when the <a>Web Publication</a> was last updated. This infoset item MUST be mapped on the <a
								href="http://schema.org/dateModified"><code>dateModified</code></a> term, whose value is
							a <a href="http://schema.org/Date"><code>Date</code></a> or <a
								href="http://schema.org/DateTime"><code>DateTime</code></a>, both expressed in ISO 8601
							date, or Date Time formats, respectively [[iso8601]]. </p>

						<table class="zebra">
							<thead>
								<tr>
									<th> Term name with link to definition </th>
									<th> Short description </th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<a href="http://schema.org/dateModified"><code>dateModified</code></a>
									</td>
									<td> Last modification date of the publication </td>
								</tr>
							</tbody>
						</table>
						<pre class="example" title="Modification date of the publication">
{
    "@context"     : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"        : "CreativeWork",
    ...
    "identifier"   : "http://www.w3.org/TR/tabular-data-model/",
    "url"          : "http://www.w3.org/TR/2015/REC-tabular-data-model-20151217/",
    "dateModified" : "2015-12-17",
    ...
}
</pre>

					</section>
					<section id="wp-pub-date-wpm">
						<h4>Publication Date</h4>

						<p> As described in <a href="#wp-pub-date"></a>, the <a>last modification date</a> is the date
							when the <a>Web Publication</a> was originall published. This infoset item MUST be mapped on
							the <a href="http://schema.org/datePublished"><code>datePublished</code></a> term, whose
							value is a <a href="http://schema.org/Date"><code>Date</code></a> or <a
								href="http://schema.org/DateTime"><code>DateTime</code></a>, both expressed in ISO 8601
							date, or Date Time formats, respectively [[iso8601]]. </p>

						<table class="zebra">
							<thead>
								<tr>
									<th> Term name with link to definition </th>
									<th> Short description </th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<a href="http://schema.org/datePublished"><code>datePublished</code></a>
									</td>
									<td> Creation date of the publication </td>
								</tr>
							</tbody>
						</table>
						<pre class="example" title="Creation and modification date of the publication">
{
    "@context"      : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"         : "CreativeWork",
    ...
    "identifier"    : "http://www.w3.org/TR/tabular-data-model/",
    "url"           : "http://www.w3.org/TR/2015/REC-tabular-data-model-20151217/",
    "datePublished" : "2015-12-17",
    "dateModified"  : "2016-01-30",
    ...
}
</pre>
					</section>
					<section id="wp-reading-progression-wpm">
						<h4>Reading Progression Direction</h4>
						<p> As described in <a href="#wp-reading-progression"></a>, this infoset item establishes the
							reading direction from one resource to the next. There is no corresponding term in
							Schema.org; instead, this item MUST be mapped on the <code>readingProgression</code> term,
							defined specifically for Web Publications. </p>
						<table class="zebra">
							<thead>
								<tr>
									<th> Term name with link to definition </th>
									<th> Short description </th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<code>readingProgression</code>
									</td>
									<td> Reading direction from one resource to the other; the value of this term MUST
										be <code>ltr</code>, <code>rtl</code>, or <code>auto</code> (see <a
											href="#wp-reading-progression"></a> for further details). </td>
								</tr>
							</tbody>
						</table>

						<p>If this value is not set, its default value is <code>ltr</code>.</p>

						<pre class="example" title="Reading progression set explicitl to ltr">
{
    "@context"           : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"              : "Book",
    ...
    "url"                : "https://publisher.example.org/mobydick",
    "readingProgression" : "ltr"
}
</pre>

					</section>

					<section id="wp-title-wmp">
						<h4>Title</h4>

						<p> As described in <a href="#wp-title"></a>, the title provides the human-readable name of the
							Web Publication. If set explicitly in the Manifest (i.e., if it is not to be derived from
							the <code>title</code> element of the primary entry point), this item MUST be mapped on the
							Schema.org <a href="http://schema.org/name"><code>name</code></a> term. </p>

						<table class="zebra">
							<thead>
								<tr>
									<th> Term name with link to definition </th>
									<th> Short description </th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<a href="http://schema.org/name"><code>name</code></a>
									</td>
									<td> Human-readable name of the Web Publication. </td>
								</tr>
							</tbody>
						</table>
						<pre class="example" title="Title of the book set explicitly">
{
    "@context" : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"    : "Book",
    ...
    "url"      : "https://publisher.example.org/mobydick",
    "name"     : "Moby Dick"
}
</pre>
					</section>
				</section>
				<section id="structural-infoset-properties-wpm">
					<h4>Structural Infoset Properties</h4>

					<p> Structural infoset properties typically refer to external resources via a URL. This URL-s may
						refer to resources playing different roles (e.g., cover or privacy policy), may need some
						additional metadata for, e.g., accessibility purposes. </p>
					<p id="publication-link-def"> The structural properties are expressed via JSON-LD terms that are
						typically publication specific (i.e., defined through the JSON-LD context file defined for Web
						Publications, see <a href="#wpub-context"></a>). This context also defines a general type used
						for external links, called <code>PublicationLink</code>, that contains that following properties
						(note that most of the properties are ): </p>

					<table class="zebra">
						<thead>
							<tr>
								<th> Term name </th>
								<th> Short description </th>
								<th> Required/Optional </th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td>
									<a href="http://schema.org/name"><code>url</code></a>
								</td>
								<td> URL&#160;[[url]] of the resource. </td>
								<td> Required. </td>
							</tr>
							<tr>
								<td>
									<a href="http://schema.org/fileFormat"><code>fileFormat</code></a>
								</td>
								<td> Media type, typically the MIME format&#160;[[!rfc2046]] of the content e.g.
										<code>application/zip</code>. </td>
								<td> Optional. </td>
							</tr>
							<tr>
								<td>
									<a href="http://schema.org/name"><code>name</code></a>
								</td>
								<td> Name of the item. </td>
								<td> Optional. </td>
							</tr>
							<tr>
								<td>
									<a href="http://schema.org/description"><code>description</code></a>
								</td>
								<td> Description of the item. </td>
								<td> Optional. </td>
							</tr>
							<tr>
								<td>
									<code>rel</code>
								</td>
								<td> One or more relations; the values are either the relevant relationship terms of the IANA link registry&#160;[[!iana-link-relations]], or specially minted URL-s if no suitable link registry item exists.</td>
								<td> Optional. </td>
							</tr>
						</tbody>
					</table>
					<p class=issue data-number=235></p>

					<p class=ednote>If the document is reorganized the "specific" external resources (cover, accessibility report, etc) should be separated in from the general structures and list definitions.</p>


					<section id="wp-default-reading-order-wpm">
						<h4>Default Reading Order</h4>
						<p> As defined in <a href="#wp-default-reading-order"></a>, the <a>default reading order</a> is
							a specific progression through a set of Web Publication resources. If present in the Web
							Publication Manifest (i.e., if the Web Publication has other items in the default reading
							order than just the primary entry page), this item MUST be mapped on the
								<code>readingOrder</code> term, defined specifically for Web Publications. </p>
						<table class="zebra">
							<thead>
								<tr>
									<th> Term name with link to definition </th>
									<th> Short description </th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<code>readingOrder</code>
									</td>
									<td> An array of: 
										<ul>
											<li>a string, representing the URL&#160;[[url]] of the resource; or</li>
											<li>an instance of a <a href="#publication-link-def"><code>PublicationLink</code></a> object</li>
										</ul> 
										The order in the array is <em>significant</em>. </td>
								</tr>
							</tbody>
						</table>
						<pre class="example" title="Reading order expressed as a simple list of URL-s">
{
    "@context" : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"    : "Book",
    ...
    "url"      : "https://publisher.example.org/mobydick",
    "name"     : "Moby Dick",
    "readingOrder" : [
        "html/title.html",
        "html/copyright.html",
        "html/introduction.html",
        "html/epigraph.html",
        "html/c001.html",
        ...
    ]
}
</pre>
						<pre class="example" title="Reading order expressed as objects providing more information on items">
{
    "@context" : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"    : "Book",
    ...
    "url"      : "https://publisher.example.org/mobydick",
    "name"     : "Moby Dick",
    "readingOrder" : [{
        "@type"      : "PublicationList",
        "url"        : "html/title.html",
        "fileFormat" : "text/html",
        "name"       : "Title page"
    },{
        "@type"      : "PublicationList",
        "url"        : "html/copyright.html",
        "fileFormat" : "text/html",
        "name"       : "Copyright page"
    },{
        ...
    }]
}
</pre>
					</section>
					<section id="wp-resource-list-wpm">
						<h4>Resource List</h4>
						<p> As defined in <a href="#wp-resource-list"></a>, the <a>resource list</a> enumerates all <a
								href="#wp-resources">resources</a> that are used in the processing and rendering of a
								<a>Web Publication</a> (i.e., that are within its bounds) and that are not listed in the
								<a>default reading order</a>. If present in the Web Publication Manifest (i.e., if the
							Web Publication has other items in the default reading order than just the primary entry
							page), this item MUST be mapped on the <code>resources</code> term, defined specifically for
							Web Publications. </p>
						<table class="zebra">
							<thead>
								<tr>
									<th> Term name with link to definition </th>
									<th> Short description </th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<code>resources</code>
									</td>
									<td> An array of: 
										<ul>
											<li>a string, representing the URL&#160;[[url]] of the resource; or</li>
											<li>an instance of a <a href="#publication-link-def"><code>PublicationLink</code></a> object</li>
										</ul>
										The order in the array is <em>not significant</em>. </td>
								</tr>
							</tbody>
						</table>
						<pre class="example" title="Listing resources, some via a simple URL, some with more details">
{
    "@context"   : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"      : "CreativeWork",
    ...
    "identifier" : "http://www.w3.org/TR/tabular-data-model/",
    "url"        : "http://www.w3.org/TR/2015/REC-tabular-data-model-20151217/",
    ...
    "resources"  : [
        "datatypes.html",
        "datatypes.svg",
        "datatypes.png",
        "diff.html",
        {
            "@type"         : "PublicationLink",
            "url"           : "test-utf8.csv",
            "fileFormat"    : "text/csv"
        },{
            "@type"         : "PublicationLink",
            "url"           : "test-utf8-bom.csv",
            "fileFormat"    : "text/csv"
        },{
            ...
        }
    ],
    ...
}
</pre>

					</section>

					<section id="wp-extra-list-wpm">
						<h4>List of extra resources</h4>
						<p> 
							As defined in <a href="#wp-extra-list"></a>, the <a>list of extra resources</a> enumerates all <a href="#wp-resources">resources</a> that are used in the processing and rendering of a <a>Web Publication</a> but are <em>not</em> within its bounds but are, rather, external to the Web Publication. If present in the Web Publication Manifest, this item MUST be mapped on the <code>extraResources</code> term, defined specifically for Web Publications. 
						</p>
						<p class=note>
							The <code>extraResources</code> to be used in JSON has not yet been decided; waiting on the resolution of issue #225
						</p>
						<table class="zebra">
							<thead>
								<tr>
									<th> Term name with link to definition </th>
									<th> Short description </th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<code>extraResources</code>
									</td>
									<td> An array of: <ul>
											<li>a string, representing the URL&#160;[[url]] of the resource; or</li>
											<li>an instance of a <a href="#publication-link-def"><code>PublicationLink</code></a> object</li>
										</ul> The order in the array is <em>not significant</em>. </td>
								</tr>
							</tbody>
						</table>
						<p class=issue data-number="225"></p>
					</section>

					<section id="wp-table-of-contents-wpm">
						<h4>Table of Contents</h4>
						<p> As defined in <a href="#wp-table-of-contents"></a>, the manifest SHOULD provide a link to an
							HTML element in one of the <a href="#wp-resources">resources</a> representing the table of
							content. If present in the Web Publication Manifest this item MUST be mapped on the
								<code>tableOfContents</code> term, defined specifically for Web Publications. </p>
						<table class="zebra">
							<thead>
								<tr>
									<th> Term name with link to definition </th>
									<th> Short description </th>
								</tr>
							</thead>
							<tbody>
								<tr>
									<td>
										<code>tableOfContents</code>
									</td>
									<td> A (relative or absolute) URL&#160;[[url]] </td>
								</tr>
							</tbody>
						</table>
						<pre class="example" title="Reference to a table of content element, in the same file that contains the manifest is">
&lt;head&gt;
    ...
    &lt;script type="application/ld+json"&gt;
    {
        "@context"        : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
        "@type"           : "CreativeWork",
        ...
        "identifier"      : "http://www.w3.org/TR/tabular-data-model/",
        "url"             : "http://www.w3.org/TR/2015/REC-tabular-data-model-20151217/",
        "tableOfContents" : "#toc"
        ...
    }
    &lt;/script&gt;
    ...
&lt;/head&gt;
&lt;body&gt;
    ...
    &lt;section id="toc" role="doc-toc"&gt;
        ...
    &lt;/section&gt;
    ...
&lt;/body&gt;
</pre>
						<p class="issue"> The term <code>tableOfContents</code> has not been approved by the Working
							Group yet; it is currently a placeholder. </p>
						<p class=issue data-number=234></p>
					</section>
					<section id="wp-cover-wpm">
						<h4>Cover</h4>

						<p>
							As described in <a href="#wp-cover"></a>, the infoset SHOULD include a reference to a cover. When present, link to such resource MUST be expressed using a <a href="#publication-link-def"><code>PublicationLink</code></a>. The <code>rel</code> value of the <a href="#publication-link-def"><code>PublicationLink</code></a> MUST include the <code>https://www.w3.org/ns/wpub/cover-page</code> identifier.
						</p>

						<p class=note>
							The Working Group will attempt to define the <code>cover-page</code> term by IANA, to avoid using a URL.
						</p>
						<pre class="example" title="Cover page expressed as resource">
{
    "@context"   : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"      : "Book",
    ...
    "url"        : "https://publisher.example.org/mobydick",
    "name"       : "Moby Dick",
    "resources"  : [{
        "@type"      : "PublicationLink",
        "url"        : "whale-image.jpg",
        "fileFormat" : "image/jpeg"
        "rel"        : "https://www.w3.org/ns/wpub/cover-page"
    },{
        ...
    }],
    ...
}
</pre>
					</section>
					<section id="wp-privacy-wpm">
						<h4>Privacy Policy</h4>

						<p>
							As described in <a href="#wp-privacy"></a>, it is RECOMMENDED that the privacy policy be included as a resource of the Web Publication. When present, link to such resource MUST be expressed using a <a href="#publication-link-def"><code>PublicationLink</code></a> object. The <code>rel</code> value of the <a href="#publication-link-def"><code>PublicationLink</code></a> MUST include the <code>privacy-policy</code> (IANA) identifier.
						</p>

						<pre class="example" title="Privacy policy expressed as an external link">
{
    "@context"   : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"      : "CreativeWork",
    ...
    "identifier" : "http://www.w3.org/TR/tabular-data-model/",
    "url"        : "http://www.w3.org/TR/2015/REC-tabular-data-model-20151217/",
    ...
    "externalResources"  : [{
        "@type"      : "PublicationLink",
        "url"        : "https://www.w3.org/Consortium/Legal/privacy-statement-20140324",
        "fileFormat" : "text/html",
        "rel"        : "privacy-policy"
    },{
            ...
    }],
    ...
}
</pre>
					</section>
					<section id="wp-a11y-report-wpm">
						<h4>Accessibility Report</h4>

						<p>
							As described in <a href="#wp-a11y"></a> the authors MAY provide an accessibility report providing information about the suitability of a <a>Web Publication</a> for consumption by users with varying preferred reading modalities. This report may be complementary to the information expressed by the descriptive properties as described in <a href="#wp-a11y-wpm"></a>. This report is accessed via an external resource (e.g., and HTML file). When present, link to such resource MUST be expressed using a <a href="#publication-link-def"><code>PublicationLink</code></a> object. The <code>rel</code> value of the <a href="#publication-link-def"><code>PublicationLink</code></a> MUST include the <code>https://www.w3.org/ns/wpub#accessibility-report</code> identifier.
						</p>
						<p class=note>
							The Working Group will attempt to define the <code>accessibility-report</code> term by IANA, to avoid using a URL.
						</p>
						<pre class="example" title="Link to an accessibility report">
{
    "@context"   : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"      : "Book",
    ...
    "url"        : "https://publisher.example.org/mobydick",
    "name"       : "Moby Dick",
    "extraResources"  : [{
        "@type"       : "PublicationLink",
        "url"         : "https://www.publisher.example.org/mobydick-accessibility.html",
        "rel"         : "https://www.w3.org/ns/wpub/accessibility-report"
    },{
        ...
    }],
    ...
}
</pre>
					</section>
					<section id="wp-external-metadata-wpm">
						<h4>External Metadata</h4>

						<p>
							As described in <a href="#wp-extensibility"></a>, the infoset items of a <a>Web Publication</a> MAY be extended by linking to further metadata records. This may include, for example, links to an external ONIX&nbsp;[[onix]] or BibTeX&nbsp;[[bibtex]] file. When present, link to such resource MUST be expressed using a <a href="#publication-link-def"><code>PublicationLink</code></a> object. The <code>rel</code> value of the <a href="#publication-link-def"><code>PublicationLink</code></a> MUST include the <code>describedby</code> (IANA) identifier. 
						</p>

						<pre class="example" title="Link to external ONIX for Books Metadata file">
{
    "@context"   : ["http://schema.org","https://www.w3.org/ns/wpub.jsonld"],
    "@type"      : "Book",
    ...
    "url"        : "https://publisher.example.org/mobydick",
    "name"       : "Moby Dick",
    "extraResources"  : [{
        "@type"       : "PublicationLink",
        "url"         : "https://www.publisher.example.org/mobydick-onix.xml",
        "fileFormat"  : "application/xml",
        "rel"         : "describedby"
    },{
        ...
    }],
    ...
}
</pre>

						
					</section>
				</section>
			</section>
		</section>
		<section id="wp-construction">
			<h2>Web Publication Construction</h2>

			<section id="wp-resources">
				<h2>Resources</h2>

				<p>A <a>Web Publication</a> MUST include at least one <abbr title="Hypertext Markup Language"
						>HTML</abbr> document&#160;[[!html]] that <a href="#wp-linking">links to the manifest</a>.</p>

				<p>There are no restrictions on a Web Publication beyond this requirement. The Web Publication MAY
					include references to resources of any media type, both in the <a>default reading order</a> and as
					dependencies of other resources.</p>

				<div class="note">
					<p>When adding resources to a Web Publication, consider support in user agents. The use of
						progressive enhancement techniques and the provision of fallback content, as appropriate, will
						ensure a more consistent reading experience for users regardless of their preferred user
						agent.</p>
				</div>
			</section>

			<section id="wp-linking">
				<h2>Linking to a Manifest</h2>

				<p>Resources SHOULD provide a link to the manifest of the Web Publication to which they belong to enable
					discovery. Links MUST take one or both of the following forms:</p>

				<ul>
					<li><p>An HTTP <code>Link</code> header field&#160;[[!rfc5988]] with its <code>rel</code> parameter
							set to the value "<code>publication</code>".</p>
						<pre class="example">Link: &lt;https://example.com/webpub/manifest>; rel=publication</pre>
					</li>
					<li><p>A <code>link</code> element&#160;[[!html]] with its <code>rel</code> attribute set to the
							value "<code>publication</code>".</p>
						<pre class="example">&lt;link href="https://example.com/webpub/manifest" rel="publication"/></pre>
					</li>
				</ul>

				<p>The <code>href</code> attribute may also contain a fragment identifier, referring to the Web
					Publication Manifest expressed as part of an HTML resource (see <a href="#manifest-intro"></a>). </p>

				<pre class="example" title="Link to a manifest within the same HTML resource">
	&lt;link href="#example_manifest" rel="publication"&gt;
	...
	&lt;script id="example_manifest" type="application/ld+json"&gt;
	{
    "@context" : "http://schema.org",
    ...
	}
	&lt;/script&gt;
</pre>

				<p class="issue">The exact value of <code>rel</code> is still to be agreen upon.</p>

				<p class="ednote">The following details might be moved to the lifecycle section in a future draft.</p>

				<p>When a resource links to multiple manifests, a user agent MAY choose to present one or more
					alternatives to the end user, or choose a single alternative on its own. The user agent MAY choose
					to present any manifest based upon information that it possesses, even one that is not explicitly
					listed as a parent (e.g., based upon information it calculates or acquires out of band). In the
					absence of a preference by user agent implementers, selection of the first manifest listed is
					suggested as a default.</p>

			</section>
		</section>
		<section id="wp-lifecycle">
			<h2>Web Publication Lifecycle</h2>

			<div class="ednote">
				<p>The publishing working group is currently evaluating the best approach for implementing <a>Web
						Publications</a> in user agents. This note is intended to provide an overview of where current
					thinking is at and what issues are under consideration.</p>

				<p>The development of Web Publications is not viewed as a separate forking of the Web, but an
					enhancement layer that can be supported by user agents. To that end, the primary constraints on any
					solution for Web Publications are that:</p>

				<ul>
					<li>the rendering of Web Publications must not interfere with the underlying Web model and <abbr
							title="Application Programming Interfaces">APIs</abbr> &#8212; all functionality and
						enhancements must be layered on top;</li>
					<li>a Web Publication should not have to carry its own implementation code &#8212; functionality is
						ideally provided by the user agent and/or polyfill.</li>
				</ul>

				<p>While this specification will provide implementation flexibility for user agents, there are still a
					number of areas that have been identified as potentially needing to be detailed. These include:</p>

				<ul>
					<li>
						<p>initialization expectations for a Web Publication:</p>
						<ul>
							<li>automatic initiation v. user prompts;</li>
							<li>linked v. directly loaded manifests;</li>
							<li>resources that belong to more than one Web Publication.</li>
						</ul>
					</li>
					<li>
						<p>the creation of a "publication state":</p>
						<ul>
							<li>persistence of publication information across page loads;</li>
							<li>location and persistence of UI;</li>
							<li>indications of supported features;</li>
							<li>DOM issues such as persistence of numbering schemes.</li>
						</ul>
					</li>
					<li>
						<p>tracking the extent of a Web Publication:</p>
						<ul>
							<li>taking an entire publication offline;</li>
							<li>enabling search across documents.</li>
						</ul>
					</li>
					<li>
						<p>establishing the bounds of a Web Publication:</p>
						<ul>
							<li>when to end the publication state;</li>
							<li>document history traversal;</li>
							<li>how to handle links outside the publication.</li>
						</ul>
					</li>
					<li>updating of the <a>manifest</a>.</li>
				</ul>

				<p>The working group intends to flesh out the lifecycle in later revisions once it is clearer what
					models are viable and what solutions can be standardized. Input on the feasibility and challenges of
					these approaches is welcome at any time.</p>
			</div>

			<section id="obtaining-manifest">
				<h3>Obtaining a manifest</h3>

				<p>The <dfn data-lt="obtaining the manifest|obtaining a manifest|obtains a manifest">steps for obtaining
						a manifest</dfn> are given by the following algorithm. The algorithm, if successful, returns a
						<a>processed manifest</a> and the <var>manifest URL</var>; otherwise, it terminates prematurely
					and returns nothing. In the case of nothing being returned, the user agent MUST ignore the manifest
					declaration.</p>

				<ol>
					<li>From the <code>Document</code> of the top-level browsing context, let <var>origin</var> be the
							<code>Document</code>'s origin, and <var>manifest link</var> be the first <code>link</code>
						element in tree order whose <code>rel</code> attribute contains the token
							<code>publication</code>. </li>
					<li>If <var>origin</var> is an [[!html]] opaque origin, terminate this algorithm. </li>
					<li>If <var>manifest link</var> is <code>null</code>, terminate this algorithm. </li>
					<li>If <var>manifest link</var>'s <code>href</code> attribute's value is the empty string, then
						abort these steps. </li>
					<li>Let <var>manifest URL</var> be the result of parsing the value of the <code>href</code>
						attribute, relative to the element's base URL. If parsing fails, then abort these steps. </li>
					<li>Let <var>request</var> be a new [[!fetch]] request, whose URL is <var>manifest URL</var>, and
						whose context is the same as the browsing context of the <code>Document</code>. </li>
					<li>If the <var>manifest link</var>'s <code>crossOrigin</code> attribute's value is
							'<code>use-credentials</code>', then set <var>request</var>'s credentials to
							'<code>include</code>'. </li>
					<li>Await the result of performing a fetch with <var>request</var>, letting <var>response</var> be
						the result. </li>
					<li>If <var>response</var> is a network error, terminate this algorithm. </li>
					<li>Let <var>text</var> be the result of UTF-8 decoding <var>response</var>'s <a
							data-cite="!fetch#concept-request-body">body</a>. </li>
					<li>Let <var>manifest</var> be the result of running <a>processing a manifest</a> given
							<var>text</var>, <var>manifest URL</var>, and the URL that represents the address of the
						top-level browsing context. </li>
					<li>Return <var>manifest</var> and <var>manifest URL</var>. </li>
				</ol>

				<p class="note">See the <a href="#obtaining-manifest-diagram">diagram in the appendix</a> for a visual
					representation of the algorithm.</p>

				<p class="ednote">This section will require additional work if we also decide to allow JSON-LD embedded
					in HTML.</p>

			</section>

			<section id="processing-manifest">
				<h3>Processing the manifest</h3>

				<p>The <dfn data-lt="processing the manifest|processing a manifest">steps for processing a
						manifest</dfn> are given by the following algorithm. The algorithm takes a <var>text</var>
					string as an argument, which represents a <a>manifest</a>, and a <var>manifest
					URL</var>&#160;[[!url]], which represents the location of the manifest, and a <var>document
						URL</var>&#160;[[!url]]. The output from inputting a JSON document into this algorithm is a
						<dfn>processed manifest</dfn>. </p>

				<ol>
					<li>Let <var>json</var> be the result of <a data-cite="!ecmascript#sec-json.parse">parsing</a>
						<var>text</var>. If <a data-cite="!ecmascript#sec-json.parse">parsing</a> throws an error: <ol>
							<li>Issue a developer warning with any details pertaining to the JSON parsing error. </li>
							<li>Set <var>json</var> to be the result of <a data-cite="!ecmascript#sec-15.12.2"
									>parsing</a> the string <code>"{}"</code>. </li>
						</ol>
					</li>
					<li>If Type(<var>json</var>) is not <code>Object</code>: <ol>
							<li>Issue a developer warning that the manifest needs to be an object. </li>
							<li>Set <var>json</var> to be the result of <a data-cite="!ecmascript#sec-15.12.2"
									>parsing</a> the string <code>"{}"</code>. </li>
						</ol>
					</li>
					<li>Extension point: process any proprietary and/or other supported members at this point in the
						algorithm. </li>
					<li>Let <var>manifest</var> be the result of <a href="https://www.w3.org/TR/WebIDL-1/#es-dictionary"
							>converting</a> [[!webidl-1]] <var>json</var> to a <a>WebPublicationManifest</a> dictionary.
					</li>
				</ol>

				<p class="note">See the <a href="#processing-manifest-diagram">diagram in the appendix</a> for a visual
					representation of the algorithm.</p>

				<p class="ednote">The new JSON-LD based approach will require additional processing from the client. Due
					to the flexible nature of JSON-LD and schema.org, a simple conversion from JSON to WebIDL won't be
					enough.</p>

			</section>

		</section>
		<section id="wp-affordances">
			<h2>Affordances</h2>

			<p class="ednote">This section contains placeholders for possible reading enhancements/affordances the user
				agent may/should/must provide. The list is subject to addition, modification and removal as the
				enhancements get discussed in more detail.</p>

			<p class="issue" data-number="143"></p>

			<section id="aff-publication-mode">
				<h3>Switch to publication mode</h3>

				<p>When a user agent <a>obtains a manifest</a> it SHOULD display an affordance for switching the display
					to <a>publication mode</a>.</p>

				<p>This affordance has the following requirements:</p>

				<ol>
					<li>it MUST inform the user that the current resource is part of a <a>Web Publication</a></li>
					<li>it SHOULD display the title of the Web Publication</li>
					<li>it MAY display additional metadata from the <abbr title="information set"
						><a>infoset</a></abbr></li>
				</ol>

				<p><dfn>Publication mode</dfn> is a display mode implemented by the user agent that follows the
					conventions listed in <a href="#aff-presentation">presentation</a> and <a href="#navigation"
						>navigation</a>.</p>
			</section>

			<section id="aff-presentation">
				<h3>Presentation</h3>

				<section id="layout">
					<h4>Layout</h4>

					<p>The layout and rendering of <a>Web Publications</a> is governed by the same rules that apply to
						all Web content: <abbr title="Hypertext Markup Language">HTML</abbr> documents are styled and
						laid out according to the rules of <abbr title="Cascading Style Sheets">CSS</abbr>, SVG
						documents are rendered as defined by that format, etc. This specification requires no particular
						profile or subset of <abbr title="Cascading Style Sheets">CSS</abbr>, <abbr
							title="Hypertext Markup Language">HTML</abbr>, or <abbr title="Scalable Vector Graphics"
							>SVG</abbr> to be supported, other than the expectations set for these technologies by their
						respective specifications.</p>

					<div class="ednote">
						<p>This specification intentionally avoids introducing any new layout features. Any shortcoming
							of the Web platform in terms of layout needs to be addressed for the whole Web platform,
							which means via <abbr title="Cascading Style Sheets">CSS</abbr>.</p>

						<p>This working group will work with other relevant groups of the <abbr
								title="World Wide Web Consortium">W3C</abbr> to address platform-wide limitations that
							negatively impact <a>Web Publications</a>.</p>
					</div>

					<p>For the purposes of layout, each resource of a Web Publication is treated as a separate document.
						User agents MUST NOT mix content from multiple resources in the same rendering (e.g., <a
							href="https://www.w3.org/TR/CSS21/visuren.html#floats">CSS floats</a> or <a
							href="https://www.w3.org/TR/CSS21/visuren.html#absolutely-positioned">absolutely positioned
							elements</a> from one resource cannot intrude or overlap with content from an other
						resource).</p>

					<div class="note">
						<p>Despite this general requirement that each resource should be treated as a separate document
							for the purpose of layout, there are some places where <abbr title="Cascading Style Sheets"
								>CSS</abbr> specifications should be amended to be able to deal more intelligently with
							collections of resources like <a>Web Publications</a>.</p>

						<p>One instance is the definition of <a
								href="https://drafts.csswg.org/css-content/#cross-references">cross-references</a>,
							which are currently restricted to work only within a single document. This restriction
							should be relaxed to allow for cross-references between separate resources of a single Web
							Publication.</p>

						<p>Another related would be to allow <a
								href="https://drafts.csswg.org/css-lists-3/#counter-properties">counters</a> to
							accumulate across multiple resources of a single Web Publication (e.g., so that figures in
							multiple sections may be numbered in a single sequence).</p>
					</div>

				</section>

				<section id="aff-user-settings">
					<h4>User Settings</h4>

					<p>When a user agent renders a <a>Web Publication</a>, it SHOULD provide user settings to customize
						the experience.</p>

					<p>User settings MAY include:</p>

					<ul>
						<li>text size;</li>
						<li>font family;</li>
						<li>display mode (night, high contrast, etc.);</li>
						<li>playback speed (for audio and video resources).</li>
					</ul>

					<p>This specification does not cover how user agents override author styles to offer user
						settings.</p>

					<div class="ednote">
						<p>To provide user settings in their reader mode, browsers usually get rid of most of the author
							styles. There is always a tension in reading environments between author styles and the
							user's preference, which is very hard to balance.</p>
					</div>

					<p class="issue" data-number="138"></p>
				</section>

				<section id="scrolling-or-paginating" class="informative">
					<h4>Scrolling or Paginating</h4>

					<p>Publications have historically been presented via paged media, whereas Web pages almost always
						scroll. As the preferences of individual readers vary, and as different types of publications
						are better suited for one or the other, this specification encourages user agents to support
						both, and to offer a choice to their users.</p>

					<div class="ednote">
						<p>It might be useful for authors to be able to specify a preference between scrolling and
							pagination, even if a strict requirement is not possible. This should most likely be
							addressed through an extension of <a
								href="https://www.w3.org/TR/css-device-adapt-1/#atviewport-rule"
								><code>@viewport</code></a> or of <a
								href="https://drafts.csswg.org/css-device-adapt/#viewport-meta">the viewport meta
								tag</a>(see&#160;[[css-device-adapt]]), or possibly through an extension of <a
								href="https://drafts.csswg.org/css-page-3/#at-page-rule"><code>@page</code></a>
							(see&#160;[[css-page-3]]). This should be discussed with the relevant working groups (<a
								href="https://www.w3.org/Style/CSS/">CSSWG</a>, <a
								href="https://www.w3.org/WebPlatform/WG/">WebPlatformWG</a>, <a
								href="https://whatwg.org/">WHATWG</a>).</p>
					</div>
					<p class="issue" data-number="137"></p>
				</section>

				<section id="aff-pagination">
					<h4>Paginated Layout</h4>

					<p>When a user agent renders a <a>Web Publication</a> in a paginated layout, it MUST lay out each
						document in the <a>default reading order</a> sequentially, with the last page of a resource
						being followed by the first page of the subsequent one.</p>

					<div class="ednote">
						<p>To avoid blank pages, if a resource ends on a left page (resp. right page), the subsequent
							one should start on a right page (resp. left page) even if the <a
								href="https://drafts.csswg.org/css-page-3/#progression">page progression</a>
							(see&#160;[[css-page-3]]) would otherwise lead to it starting on the opposite page. It
							should also be possible to use the <a
								href="https://www.w3.org/TR/css-break-3/#propdef-break-before">break-before</a> property
							(see&#160;[[!css-break-3]]) to force the content to resume on the opposite side if that was
							desired by the author.</p>

						<p>[[css-page-3]] needs to be amended to describe this exception to the general behavior when
							dealing with collections of documents instead of individual documents.</p>
					</div>


					<div class="ednote">
						<p>How is pagination supposed to work when subsequent resources have opposite <a
								href="https://drafts.csswg.org/css-page-3/#progression">page progression</a> directions
							(see&#160;[[css-page-3]]). For example, due to different a different writing mode? This is
							not necessarily a problem from a layout point of view, as each page is independent, but from
							an UI point of view. If swiping left means next page until the end of one chapter, and
							starts meaning previous page in the next chapter because the language is switched from
							English to Hebrew, this is going to be confusing.</p>
					</div>

					<div class="ednote">
						<p>[[css-page-3]] needs to be amended so that <a
								href="https://drafts.csswg.org/css-page-3/#page-based-counters">page counters</a> are
							not automatically reset to at the beginning of each new resource belonging to the same Web
							Publication.</p>
					</div>

					<p class="issue" data-number="137"></p>

				</section>
			</section>

			<section id="aff-nav">
				<h3>Navigation</h3>

				<p class="issue" data-number="86"></p>

				<section id="aff-reading-order">
					<h4>Reading Order</h4>

					<p>Hyperlinks are the means by which multiple resources are linked together on the Web. When users
						reach the end of one resource, they have to activate a hyperlink to move to the next resource in
						the sequence. While this model of navigation is effective, it is also disruptive for immersive
						reading &#8212; it forces users to disengage from the content and perform the actions necessary
						to activate the links. It is also limited to media types that support hyperlinks.</p>

					<p>The <a>default reading order</a> provides an enhancement to the hyperlink model, allowing the
						user agent to automatically move the user to the next resource when a more natural action
						occurs, like a swipe across the screen. It is similar conceptually and functionally to the
							<code>link</code> element's <a href="https://www.w3.org/TR/html5/links.html#sec-link-types"
								><code>next</code> and <code>prev</code> relationships</a>&#160;[[!html]].</p>

					<p>User agents MUST provide an affordance for moving forward and backward in the <a>default reading
							order</a> of a <a>Web Publication</a>.</p>

					<p class="issue" data-number="144"></p>
					<p class="issue" data-number="38"></p>
				</section>

				<section id="aff-progression">
					<h4>Progression</h4>

					<p>While reading a <a>Web Publication</a>, the user follows a natural progression within a resource
						as well as between resources (following the <a>default reading order</a>).</p>

					<p>User agents SHOULD provide an affordance that saves this progression in the publication and
						returns the user to their last location the next time they open the publication.</p>

					<p>When the user agent <a>obtains a manifest</a> for the first time, it MAY also prompt the user
						whether they would like to:</p>

					<ul>
						<li>continue reading the publication from their current location; or</li>
						<li>start reading the publication from the first resource in the <a>default reading
							order</a>.</li>
					</ul>
					<p class="issue" data-number="145"></p>
				</section>

				<section id="aff-toc">
					<h4>Table of Contents</h4>
					<p class="issue" data-number=146></p>

					<section>
				        <h5>Short description</h5>
						<p>
							The user agent should provide access to the table of contents from anywhere in the publication without leaving the current resource.
						</p>

						<p>
							For accessibility reasons, it is RECOMMENDED for User Agents to use a table of contents to allow multiple ways for users to access content.
						</p>
					</section>
					<section>
				        <h5>Affordances</h5>
						<p>
							The table of contents is a listed as a structural property in the infoset, see <a href="#wp-table-of-contents"></a>
						</p>
						<p>
							The table of contents is referred to in the Web Publication Manifest (see <a href="#wp-table-of-contents-pwm"></a>) and is expressed using and HTML element; see <a href="#wp-table-of-contents"></a> for further details.
						</p>
						<p>
							User agents MAY use the <a>default reading order</a> in the case a Table of Contents is not explicitly specified to create a table of contents.
						</p>
				    </section>
				    <section>
				        <h5>Use Case References</h5>

							<dl>
								<dt><a href="https://www.w3.org/TR/pwp-ucr/#r_reading-order">Req. 12</a></dt>
								<dd>
									“There should be a means to indicate the author’s preferred navigation structure among the resources of a Web Publication.
						            A user agent needs to know the sequence in which to present components of a Web Publication to the user, including the starting point.” (See [[pwp-ucr]])
								</dd>
								<dt><a href="https://www.w3.org/TR/pwp-ucr/#r_random-access">Req. 13</a></dt>
								<dd>
									“Authors of a Web Publication should be able to provide the user agent with information to access random parts of the publication” (See [[pwp-ucr]])
								</dd>
							</dl>
				    </section>
				</section>

				<section>
					<h4>Guided Navigation</h4>
					<p class="issue" data-number="139"></p>

					<section>
						<h5>Short description</h5>
						<p>
							The author should be able to define a preferred navigation across the resources of a Web Publication. From the perspective of a User Agent this would be based on the <a>Default Reading Order</a> which defines the sequence in which to present the resources of the Web Publication to the user. A <a>Table of Contents</a> may expose that order explicitly to the user.
						</p>
					</section>

					<section>
						<h5>Dependencies</h5>
						<p>
							The preferred navigation would be defined in terms of the <a>Default Reading Order</a> which is a required item of the Information Set.
						</p>
					</section>
					<section>
						<h5>Use Case Reference</h5>
						<p>
							<a href="https://www.w3.org/TR/pwp-ucr/#r_reading-order">Req. 12</a>: “There should be a means to indicate the author’s preferred navigation structure among the resources of a Web Publication.
							A user agent needs to know the sequence in which to present components of a Web Publication to the user, including the starting point.” (See [[pwp-ucr]])
						</p>
					</section>
					<section>
						<h5>Examples</h5>

						<p>
							Example 1 (quoted from [[pwp-ucr]]):<br />
							Moby Dick contains 136 chapters. Each chapter is a separate HTML document, with a logical order for reading them. It should be possible for the publication to inform the user agent that the proper order for consumption of the HTML documents is sequentially, starting by the first chapter.
						</p>

						<p>
							Example 2: <br />
							Martina is consuming a scientific book—a well-known introductory overview of a specific topic (e.g. UX)—for her senior thesis. The author has taken great care to explain first the basic concepts and then the theoretic approaches step by step in subsequent chapters which logically build upon each other so that the reader is supposed to master the contents of the previous chapters. For a novice to that subject, it is strongly recommended to follow the default reading order laid down by the author.
						</p>

						<p>
							Example 3: <br />
							Joan is learning French at school. The schoolbook authors have divided all the stuff to be learned together with appropriate classroom activities across several chapters by defining a learning progression that is adequate for Joan’s age and her level of education. In consuming this schoolbook Joan and her teachers should respect this default order of chapters.
						</p>
					</section>
				</section>

				<section>
					<h5>Testing</h5>
					<p>
						If a test user opens up a WP in a WP-aware UA, he or she should have a means to detect and follow the default reading order. By inspecting the manifest of the WP, a tester should find two items: the default reading order and the list of resources.
					</p>
				</section>
			<section id="aff-offline-access">
				<h3>Offline Access</h3>

				<p class="issue" data-number="141"></p>
			</section>

			<section id="aff-search">
				<h3>Search</h3>

				<p class="ednote">Detail on inter-publication search across multiple resources will be included in a
					future draft.</p>
			</section>

			<section id="aff-reading-state">
	      <h4>Reading State</h4>

	      <p class="issue" data-number="145"></p>

			<section>	      
				<h5>Short description</h5>
		        <p>
			        The user must be able to leave the Web Publication and return to it at the last position they left from. The User Agent must retain the reading position, based on the last known position of the reader in the web publication. The position should be based on the reader's position in the file, within the reading order.
			    </p>
			    <p>
		        	The user agent may retain reading state if the web publication is revised.
		        </p>
			</section>
			<section>  
		       <h5>Affordances</h5>
		        <p>
		        	The navigation of the web publication should be defined in the <a>Default Reading Order</a> required by the Information Set.
		        </p>
		        <p>
					User Agents should not have to set the reading state in the following type of resources:
				</p>
		        <ul>
		        	<li>External Links (i.e. a link to google.com)</li>
		        	<li>Data references (i.e. a linked CSV file)</li>
		        	<li>Multimedia content (i.e. a video)</li>
		        </ul>

	        	<p>
	        		Reading state should only apply to content documents listed as being within the bounds of the Web Publication.
	        	</p>
			</section>
			<section>		
		       <h5>Examples</h5>
		       	<p>
		        Example 1:<br />
		        Sarah is reading a long article on her way to work. She arrives before she has finished, but wants to continue from the place she left off. The user agent should remember her reading state for the next time she opens the publication.
		        </p>

		       <h5>Testing</h5>
		       	<p>
		        If a tester opens a web publication in a WP-aware UA, moves ahead in the publication, closes the reader, then reopens it, they should be returned to the last known reading state.
		        </p>
			</section>
	    </section>
		</section>
		<section id="locators" class="informative">
			<h3>Web Publication Locators</h3>

			<p class="ednote"> The document referred from this section, i.e., Web Annotation Extensions for Web
				Publications&#160;[[!wpub-ann]], has been recently renamed. Its previous was "Locators for Web
				Publication". The terminology used in this section has to be realigned with the name change. </p>

			<p>Locators are used to identify, locate, retrieve, and/or reference locations and content fragments within
					<a>Web Publications</a> (e.g., for address(es), bookmarks, and annotations). Locators traditionally
				take the form of fragment identifiers&#160;[[rfc3986]], where the portion of a <abbr
					title="Uniform Resource Locator">URL</abbr> preceded by a number sign character (<code>#</code>)
				identifies a specific position within the referenced resource.</p>

			<p>For some use cases, it is essential to identify and reference a <a>Web Publication</a> resource—or a
				location in or a segment of a resource—in the scope or context of the Web Publication to which it
				belongs. A traditional fragment identifier cannot satisfy this requirement, since only the <abbr
					title="Uniform Resource Locator">URL</abbr> of the constituent resource containing the location or
				content fragment of interest is expressed. The Web Annotation Extensions for Web
				Publications&#160;[[!wpub-ann]] document, based on the Web Annotation Model&#160;[[!annotation-model]],
				addresses this issue by providing the means to express both the <abbr title="Uniform Resource Locator"
					>URL</abbr> of the resource and the <abbr title="Uniform Resource Locator">URL</abbr> of the Web
				Publication.</p>

			<p>Web Publication Locators also address the problem of referencing into a resource that was not authored
				with such a need in mind. A fragment identifier can only reference elements with explicit identifiers
				and locations with explicit anchor points. Web Publication Locators include a variety of selectors that
				work with the general structures and content of a resource (e.g., text selectors, <abbr
					title="Cascading Style Sheets">CSS</abbr> selectors).</p>

			<p class="ednote">As Web Publication Locators currently rely on a <abbr title="JavaScript Object Notation"
					>JSON</abbr>-based expression syntax, it is not yet clear how much of this syntax can be translated
				to a fragment identifier. This may limit the usefulness beyond expressions that are also <abbr
					title="JavaScript Object Notation">JSON</abbr>-based (e.g., outside of annotations or
				bookmarks).</p>

			<div class="ednote">
				<p>Illustrate with example of an easy to understand Web Publication Locator, such as might be used in
					annotating a simple Web Publication.</p>
			</div>

			<p>The semantics of Web Publication Locators are a mapping and extension of the Web Annotation Data
				Model&#160;[[annotation-model]] and Vocabulary&#160;[[annotation-vocab]] for describing and referencing
				a segment of a Web resource. As a result, Web Publication Locators provide the expressiveness needed for
				a broad range of annotation and bookmarking use cases. Additionally, Web Publication Locators provide a
				way to identify and reference a location within a Web Publication (i.e., as distinct from identifying
				and referencing a content fragment consisting of a span of characters or bytes). A Web Publication
				Locator can be used to identify, retrieve and/or reference a fragment of a Web Publication that spans
				multiple resources. </p>

			<div class="note">
				<p>In composing a Web Publication Locator, use the <a>canonical identifier</a> of the Web Publication in
					preference to any alternative addresses. Such use facilitates the collation of Web Publication
					Locators associated with a particular Web Publication. <abbr title="Uniform Resource Locators"
						>URLs</abbr> of Web Publication resources appearing in a Web Publication Locator should match
					the <abbr title="Uniform Resource Locators">URL</abbr> of the resource provided in the <abbr
						title="information set"><a>infoset</a></abbr>.</p>
			</div>
		</section>
		<section id="security">
			<h2>Security</h2>

			<div class="ednote">Placeholder for security issues.</div>
		</section>
		<section id="privacy">
			<h2>Privacy</h2>

			<div class="ednote">Placeholder for privacy issues.</div>
		</section>
		<section class="appendix" id="webidl">
			<h2>WebIDL</h2>

			<section id="webidl-intro" class="informative">
				<h3>Introduction</h3>

				<p>Although a Web Publication manifest is authored as [[json-ld]], user agents process this information
					into an internal data structure representing the infoset in order to utilize the properties. The
					exact manner in which this processing occurs, and how the data is used internally, is user
					agent-dependent. To ensure interoperability when exposing the infoset items, however, this appendix
					defines a common, abstract representation of the data structures using the standard formalism of the
					Web Interface Definition Language [[webidl-1]] which can express the expected names, datatypes, and
					possible restrictions for each member of the infoset. (A WebIDL representation can be mapped onto
					ECMAScript, C, or other programming languages.)</p>
			</section>

			<section id="webpublicationmanifest-dictionary">
				<h3><dfn>WebPublicationManifest</dfn> dictionary </h3>

				<pre class="idl">
                    dictionary WebPublicationManifest {
                        required    DOMString                               url;
                                    DOMString                               lang;
                                    TextDirection                           direction = "auto";
                                    TextDirection                           readingProgression = "auto";
                                    sequence&lt;LocalizableString&gt;       name;
                                    DOMString                               id;
                                    sequence&lt;Contributor&gt;             authors;
                                    DOMString                               dateModified;
                                    DOMString                               datePublished;
                                    sequence&lt;PublicationLink&gt;         links;
                                    sequence&lt;PublicationLink&gt;         readingOrder;
                                    sequence&lt;PublicationLink&gt;         resources;
                                    sequence&lt;PublicationLink&gt;         toc;
                    };
      </pre>

				<p>The <a>WebPublicationManifest</a> has the following members:</p>

				<dl data-dfn-for="WebPublicationManifest">
					<dt>
						<dfn>url</dfn>
					</dt>
					<dd>Contains the <a href="#wp-address">address</a>. Required.</dd>
					<dt>
						<dfn>lang</dfn>
					</dt>
					<dd>Contains the default value <a href="#wp-language">language</a>.</dd>
					<dt>
						<dfn>direction</dfn>
					</dt>
					<dd>Contains the default value for <a>base direction</a>.</dd>
					<dt>
						<dfn>readingProgression</dfn>
					</dt>
					<dd>Contains the value for the <a>reading progression direction</a>.</dd>
					<dt>
						<dfn>name</dfn>
					</dt>
					<dd>Contains the <a href="#wp-title">title</a>.</dd>
					<dt>
						<dfn>id</dfn>
					</dt>
					<dd>Contains the <a>canonical identifier</a>.</dd>
					<dt>
						<dfn>authors</dfn>
					</dt>
					<dd>Contains one or more <a href="#wp-creators">creators</a>.</dd>
					<dt>
						<dfn>dateModified</dfn>
					</dt>
					<dd>Contains the <a>last modification date</a>.</dd>
					<dt>
						<dfn>datePublished</dfn>
					</dt>
					<dd>Contains the <a>publication date</a>.</dd>
					<dt>
						<dfn>links</dfn>
					</dt>
					<dd>Contains links to external resources.</dd>
					<dt>
						<dfn>readingOrder</dfn>
					</dt>
					<dd>Contains the <a>default reading order</a>.</dd>
					<dt>
						<dfn>resources</dfn>
					</dt>
					<dd>Contains the <a>resource list</a>.</dd>
					<dt>
						<dfn>toc</dfn>
					</dt>
					<dd>Contains the <a>table of contents</a>.</dd>
				</dl>
			</section>

			<section id="contributor-idl">
				<h3><code>authors</code> member </h3>

				<p class="ednote">The <a href="#wp-creators">current infoset for creators</a> is not fully defined; this
					dictionary might be further improved once there is agreement on how they should be handled.</p>

				<pre class="idl">
                    dictionary Contributor {
                        required    LocalizableString       name;
                                    DOMString               id;
                    };
                </pre>

				<p>The <code>author</code> member is a sequence of <dfn>Contributor</dfn> dictionaries where each
					dictionary has the following members:</p>

				<dl data-dfn-for="Contributor">
					<dt>
						<dfn>name</dfn>
					</dt>
					<dd>Contains one or more localizable string for the contributor's name.</dd>
					<dt>
						<dfn>id</dfn>
					</dt>
					<dd>Contains a canonical identifier for the contributor.</dd>
				</dl>
			</section>

			<section id="localizable-idl">
				<h3><dfn>LocalizableString</dfn> dictionary</h3>

				<p class="ednote">This definition includes a slightly tweaked version of the i18n recommendation that
					also includes a string value in addition to a language and a direction.</p>

				<p>Some metadata in te <abbr title="information set"><a>infoset</a></abbr> have strong requirements for
					internationalization. For those members, this specification relies on the <a
						href="https://w3c.github.io/string-meta/#bestPractices">best practices established by the i18n
						WG</a> and on the <a>LocalizableString</a> dictionary.</p>

				<pre class="idl">
                    dictionary LocalizableString {
                        required    DOMString       value;
                                    DOMString       lang;
                                    TextDirection   dir = "auto";
                    };
                </pre>

				<p>When <code>lang</code> or <code>dir</code> are specified in <a>LocalizableString</a>, these values
					override the default language and base direction specificed in <a>WebPublicationManifest</a>.</p>

				<p><a>LocalizableString</a> has the following members:</p>

				<dl data-dfn-for="LocalizableString">
					<dt>
						<dfn>value</dfn>
					</dt>
					<dd>Contains the localized string.</dd>
					<dt>
						<dfn>lang</dfn>
					</dt>
					<dd>Contains the <a href="#wp-language">language</a>.</dd>
					<dt>
						<dfn>dir</dfn>
					</dt>
					<dd>Contains the <a>base direction</a>.</dd>
				</dl>
			</section>

			<section id="link-webidl">
				<h3><dfn>PublicationLink</dfn> dictionary </h3>

				<pre class="idl">
                    dictionary PublicationLink {
                        required    DOMString                           url;
                                    DOMString                           fileFormat;
                                    DOMString                           name;
                                    sequence&lt;DOMString&gt;           rel;
                                    sequence&lt;PublicationLink&gt;     children;
                    };
                </pre>

				<p>The PublicationLink dictionary contains the following members:</p>

				<dl data-dfn-for="PublicationLink">
					<dt>
						<dfn>url</dfn>
					</dt>
					<dd>Contains the URL of the linked resource.&#160;[[!url]]</dd>
					<dt>
						<dfn>fileFormat</dfn>
					</dt>
					<dd>Contains the MIME media type of the linked resource.&#160;[[!rfc2046]]</dd>
					<dt>
						<dfn>name</dfn>
					</dt>
					<dd>Text label for the linked resource.</dd>
					<dt>
						<dfn>rel</dfn>
					</dt>
					<dd>Contains one or more relations based on the IANA link
						registry.&#160;[[!iana-link-relations]]</dd>
					<dt>
						<dfn>children</dfn>
					</dt>
					<dd>Contains one or more child resources for the current resource.</dd>
				</dl>

			</section>

			<section id="textdirection-idl">
				<h3><code>TextDirection</code> enum </h3>

				<pre class="idl">
                    enum TextDirection {
                        "ltr",
                        "rtl",
                        "auto"
                    };
                </pre>

				<p>The <dfn>TextDirection</dfn> enum can contain the following values:</p>
				<dl data-dfn-for="TextDirection">
					<dt>
						<dfn>ltr</dfn>
					</dt>
					<dd>Left-to-right text.</dd>
					<dt>
						<dfn>rtl</dfn>
					</dt>
					<dd>Right-to-left text.</dd>
					<dt>
						<dfn>auto</dfn>
					</dt>
					<dd>Determined by the user agent.</dd>
				</dl>
			</section>

		</section>
		<section class="appendix informative">
			<h2>Lifecycle diagrams</h2>

			<p>These diagrams provide a visual view of the lifecycle steps, as specified in <a href="#wp-lifecycle"
				></a>.</p>

			<figure id="obtaining-manifest-diagram">
				<object data="images/lifecycle_obtain_manifest.svg" type="image/svg+xml"
					aria-describedby="obtaining-manifest-diagram-alt">
					<p id="obtaining-manifest-diagram-alt">Flowchart depicts how to obtain a manifest.</p>
				</object>
				<figcaption>Obtain a manifest.<br />See the normative description of the algorithm in <a
						href="#obtaining-manifest"></a>. Image available in <a
						href="images/lifecycle_obtain_manifest.svg"
						title="SVG image of the algorithm for obtaining a manifest">SVG</a> and <a
						title="PNG image of the algorithm for obtaining a manifest"
						href="images/lifecycle_obtain_manifest.png">PNG</a> formats. </figcaption>
			</figure>

			<figure id="processing-manifest-diagram">
				<object data="images/lifecycle_process_a_manifest.svg" type="image/svg+xml"
					aria-describedby="processing-manifest-diagram-alt">
					<p id="processing-manifest-diagram-alt">Flowchart depicts how to obtain a manifest.</p>
				</object>
				<figcaption> Process a manifest. <br />See the normative description of the algorithm in <a
						href="#processing-manifest"></a>. Image available in <a
						href="images/lifecycle_process_a_manifest.svg"
						title="SVG image of the algorithm for processing a manifest">SVG</a> and <a
						title="PNG image of the algorithm for processing a manifest"
						href="images/lifecycle_process_a_manifest.png">PNG</a> formats. </figcaption>
			</figure>

		</section>
		<section class="appendix informative">
			<h2>Image Descriptions</h2>

			<dl>
				<dt id="WP-diagram-descr">Description for the <a href="#WP-diagram">“Structure of Web Publications”
						diagram</a>:</dt>
				<dd>A simplified diagram of the structure of a <a>Web Publication</a>. The Web Publication is broken
					down into two elements. The first element is the actual contents (all the real things listed in the
					manifest). This element is broken down into the CSS, the actual “things” such as the <abbr
						title="Hypertext Markup Language">HTML</abbr> documents, audio, etc, and the images, fonts etc.
					The actual “things” have an additional subset of items that includes the entry page to the
					publication and all of the other documents. The second element is the Manifest (JSON). The manifest
					is used to generate the <a href="#infoset">Information Set (“Infoset”)</a>, which consists of a list
					of all the “things” in the publication, the publication metadata, and the default reading order of
					content. It is noted in the diagram that the entry page has to link to the manifest. (<a
						role="doc-backlink" href="#WP-diagram">Return to the diagram</a> of Web Publication.)</dd>
			</dl>

		</section>
		<section id="ack" data-include="common/html/acknowledgements.html" data-include-replace="true"></section>
	</body>
</html>
